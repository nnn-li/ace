/*! @license
==========================================================================
SproutCore -- JavaScript Application Framework
copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the "Software"),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.

SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

For more information about SproutCore, visit http://www.sproutcore.com


==========================================================================
@license */
var oop = require("./oop");
var Keys = {
    MODIFIER_KEYS: {
        16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta'
    },
    KEY_MODS: {
        "ctrl": 1, "alt": 2, "option": 2, "shift": 4,
        "super": 8, "meta": 8, "command": 8, "cmd": 8
    },
    FUNCTION_KEYS: {
        8: "Backspace",
        9: "Tab",
        13: "Return",
        19: "Pause",
        27: "Esc",
        32: "Space",
        33: "PageUp",
        34: "PageDown",
        35: "End",
        36: "Home",
        37: "Left",
        38: "Up",
        39: "Right",
        40: "Down",
        44: "Print",
        45: "Insert",
        46: "Delete",
        96: "Numpad0",
        97: "Numpad1",
        98: "Numpad2",
        99: "Numpad3",
        100: "Numpad4",
        101: "Numpad5",
        102: "Numpad6",
        103: "Numpad7",
        104: "Numpad8",
        105: "Numpad9",
        '-13': "NumpadEnter",
        112: "F1",
        113: "F2",
        114: "F3",
        115: "F4",
        116: "F5",
        117: "F6",
        118: "F7",
        119: "F8",
        120: "F9",
        121: "F10",
        122: "F11",
        123: "F12",
        144: "Numlock",
        145: "Scrolllock"
    },
    PRINTABLE_KEYS: {
        32: ' ', 48: '0', 49: '1', 50: '2', 51: '3', 52: '4', 53: '5',
        54: '6', 55: '7', 56: '8', 57: '9', 59: ';', 61: '=', 65: 'a',
        66: 'b', 67: 'c', 68: 'd', 69: 'e', 70: 'f', 71: 'g', 72: 'h',
        73: 'i', 74: 'j', 75: 'k', 76: 'l', 77: 'm', 78: 'n', 79: 'o',
        80: 'p', 81: 'q', 82: 'r', 83: 's', 84: 't', 85: 'u', 86: 'v',
        87: 'w', 88: 'x', 89: 'y', 90: 'z', 107: '+', 109: '-', 110: '.',
        187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`', 219: '[',
        220: '\\', 221: ']', 222: '\''
    },
    enter: 13,
    esc: 27,
    escape: 27,
    del: 46
};
var name, i;
for (i in Keys.FUNCTION_KEYS) {
    name = Keys.FUNCTION_KEYS[i].toLowerCase();
    Keys[name] = parseInt(i, 10);
}
for (i in Keys.PRINTABLE_KEYS) {
    name = Keys.PRINTABLE_KEYS[i].toLowerCase();
    Keys[name] = parseInt(i, 10);
}
oop.mixin(Keys, Keys.MODIFIER_KEYS);
oop.mixin(Keys, Keys.PRINTABLE_KEYS);
oop.mixin(Keys, Keys.FUNCTION_KEYS);
Keys[173] = '-';
(function () {
    var mods = ["cmd", "ctrl", "alt", "shift"];
    for (var i = Math.pow(2, mods.length); i--;) {
        var f = function (s) {
            return i & Keys.KEY_MODS[s];
        };
        var filtrate = mods.filter(f);
        Keys.KEY_MODS[i] = mods.filter(f).join("-") + "-";
    }
})();
exports.FUNCTION_KEYS = Keys.FUNCTION_KEYS;
exports.PRINTABLE_KEYS = Keys.PRINTABLE_KEYS;
exports.MODIFIER_KEYS = Keys.MODIFIER_KEYS;
exports.KEY_MODS = Keys.KEY_MODS;
exports.enter = Keys["return"];
exports.escape = Keys.esc;
exports.del = Keys["delete"];
oop.mixin(exports, Keys);
function keyCodeToString(keyCode) {
    var keyString = Keys[keyCode];
    if (typeof keyString != "string")
        keyString = String.fromCharCode(keyCode);
    return keyString.toLowerCase();
}
exports.keyCodeToString = keyCodeToString;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2V5cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIva2V5cy50cyJdLCJuYW1lcyI6WyJrZXlDb2RlVG9TdHJpbmciXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQTZCVztBQUlYLElBQU8sR0FBRyxXQUFXLE9BQU8sQ0FBQyxDQUFDO0FBTzlCLElBQUksSUFBSSxHQUFHO0lBQ1AsYUFBYSxFQUFFO1FBQ1gsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLE1BQU07S0FDbEQ7SUFFRCxRQUFRLEVBQUU7UUFDTixNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQztRQUM1QyxPQUFPLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQztLQUNoRDtJQUVELGFBQWEsRUFBRTtRQUNYLENBQUMsRUFBRSxXQUFXO1FBQ2QsQ0FBQyxFQUFFLEtBQUs7UUFDUixFQUFFLEVBQUUsUUFBUTtRQUNaLEVBQUUsRUFBRSxPQUFPO1FBQ1gsRUFBRSxFQUFFLEtBQUs7UUFDVCxFQUFFLEVBQUUsT0FBTztRQUNYLEVBQUUsRUFBRSxRQUFRO1FBQ1osRUFBRSxFQUFFLFVBQVU7UUFDZCxFQUFFLEVBQUUsS0FBSztRQUNULEVBQUUsRUFBRSxNQUFNO1FBQ1YsRUFBRSxFQUFFLE1BQU07UUFDVixFQUFFLEVBQUUsSUFBSTtRQUNSLEVBQUUsRUFBRSxPQUFPO1FBQ1gsRUFBRSxFQUFFLE1BQU07UUFDVixFQUFFLEVBQUUsT0FBTztRQUNYLEVBQUUsRUFBRSxRQUFRO1FBQ1osRUFBRSxFQUFFLFFBQVE7UUFDWixFQUFFLEVBQUUsU0FBUztRQUNiLEVBQUUsRUFBRSxTQUFTO1FBQ2IsRUFBRSxFQUFFLFNBQVM7UUFDYixFQUFFLEVBQUUsU0FBUztRQUNiLEdBQUcsRUFBRSxTQUFTO1FBQ2QsR0FBRyxFQUFFLFNBQVM7UUFDZCxHQUFHLEVBQUUsU0FBUztRQUNkLEdBQUcsRUFBRSxTQUFTO1FBQ2QsR0FBRyxFQUFFLFNBQVM7UUFDZCxHQUFHLEVBQUUsU0FBUztRQUNkLEtBQUssRUFBRSxhQUFhO1FBQ3BCLEdBQUcsRUFBRSxJQUFJO1FBQ1QsR0FBRyxFQUFFLElBQUk7UUFDVCxHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxJQUFJO1FBQ1QsR0FBRyxFQUFFLElBQUk7UUFDVCxHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxJQUFJO1FBQ1QsR0FBRyxFQUFFLElBQUk7UUFDVCxHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxLQUFLO1FBQ1YsR0FBRyxFQUFFLEtBQUs7UUFDVixHQUFHLEVBQUUsS0FBSztRQUNWLEdBQUcsRUFBRSxTQUFTO1FBQ2QsR0FBRyxFQUFFLFlBQVk7S0FDcEI7SUFFRCxjQUFjLEVBQUU7UUFDWixFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRztRQUM3RCxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRztRQUM3RCxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRztRQUM3RCxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRztRQUM3RCxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRztRQUM3RCxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztRQUNoRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztRQUNwRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUk7S0FDakM7SUFDRCxLQUFLLEVBQUUsRUFBRTtJQUNULEdBQUcsRUFBRSxFQUFFO0lBQ1AsTUFBTSxFQUFFLEVBQUU7SUFDVixHQUFHLEVBQUUsRUFBRTtDQUNWLENBQUM7QUFHRixJQUFJLElBQUksRUFBRSxDQUFDLENBQUM7QUFDWixHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7SUFDM0IsSUFBSSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDM0MsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDakMsQ0FBQztBQUdELEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztJQUM1QixJQUFJLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUM1QyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNqQyxDQUFDO0FBR0QsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQ3BDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUNyQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7QUFJcEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUVoQixDQUFDO0lBRUcsSUFBSSxJQUFJLEdBQVEsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNoRCxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDO1FBQzFDLElBQUksQ0FBQyxHQUFHLFVBQVMsQ0FBUztZQUN0QixNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEMsQ0FBQyxDQUFDO1FBQ0YsSUFBSSxRQUFRLEdBQWEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUN0RCxDQUFDO0FBQ0wsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUVNLHFCQUFhLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztBQUNuQyxzQkFBYyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7QUFDckMscUJBQWEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO0FBQ25DLGdCQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztBQUd6QixhQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3ZCLGNBQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDO0FBQ2xCLFdBQUcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7QUFFaEMsR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFFekIseUJBQWdDLE9BQU87SUFFbkNBLElBQUlBLFNBQVNBLEdBQUdBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO0lBQzlCQSxFQUFFQSxDQUFDQSxDQUFDQSxPQUFPQSxTQUFTQSxJQUFJQSxRQUFRQSxDQUFDQTtRQUM3QkEsU0FBU0EsR0FBR0EsTUFBTUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0E7SUFDN0NBLE1BQU1BLENBQUNBLFNBQVNBLENBQUNBLFdBQVdBLEVBQUVBLENBQUNBO0FBQ25DQSxDQUFDQTtBQU5lLHVCQUFlLGtCQU05QixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLyohIEBsaWNlbnNlXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuU3Byb3V0Q29yZSAtLSBKYXZhU2NyaXB0IEFwcGxpY2F0aW9uIEZyYW1ld29ya1xuY29weXJpZ2h0IDIwMDYtMjAwOSwgU3Byb3V0IFN5c3RlbXMgSW5jLiwgQXBwbGUgSW5jLiBhbmQgY29udHJpYnV0b3JzLlxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLFxudG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvblxudGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsXG5hbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGVcblNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG5GUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG5ERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cblNwcm91dENvcmUgYW5kIHRoZSBTcHJvdXRDb3JlIGxvZ28gYXJlIHRyYWRlbWFya3Mgb2YgU3Byb3V0IFN5c3RlbXMsIEluYy5cblxuRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgU3Byb3V0Q29yZSwgdmlzaXQgaHR0cDovL3d3dy5zcHJvdXRjb3JlLmNvbVxuXG5cbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5AbGljZW5zZSAqL1xuXG4vLyBNb3N0IG9mIHRoZSBmb2xsb3dpbmcgY29kZSBpcyB0YWtlbiBmcm9tIFNwcm91dENvcmUgd2l0aCBhIGZldyBjaGFuZ2VzLlxuXG5pbXBvcnQgb29wID0gcmVxdWlyZShcIi4vb29wXCIpO1xuXG5kZWNsYXJlIHZhciBleHBvcnRzOiBhbnk7XG5cbi8qXG4gKiBIZWxwZXIgZnVuY3Rpb25zIGFuZCBoYXNoZXMgZm9yIGtleSBoYW5kbGluZy5cbiAqL1xudmFyIEtleXMgPSB7XG4gICAgTU9ESUZJRVJfS0VZUzoge1xuICAgICAgICAxNjogJ1NoaWZ0JywgMTc6ICdDdHJsJywgMTg6ICdBbHQnLCAyMjQ6ICdNZXRhJ1xuICAgIH0sXG5cbiAgICBLRVlfTU9EUzoge1xuICAgICAgICBcImN0cmxcIjogMSwgXCJhbHRcIjogMiwgXCJvcHRpb25cIjogMiwgXCJzaGlmdFwiOiA0LFxuICAgICAgICBcInN1cGVyXCI6IDgsIFwibWV0YVwiOiA4LCBcImNvbW1hbmRcIjogOCwgXCJjbWRcIjogOFxuICAgIH0sXG5cbiAgICBGVU5DVElPTl9LRVlTOiB7XG4gICAgICAgIDg6IFwiQmFja3NwYWNlXCIsXG4gICAgICAgIDk6IFwiVGFiXCIsXG4gICAgICAgIDEzOiBcIlJldHVyblwiLFxuICAgICAgICAxOTogXCJQYXVzZVwiLFxuICAgICAgICAyNzogXCJFc2NcIixcbiAgICAgICAgMzI6IFwiU3BhY2VcIixcbiAgICAgICAgMzM6IFwiUGFnZVVwXCIsXG4gICAgICAgIDM0OiBcIlBhZ2VEb3duXCIsXG4gICAgICAgIDM1OiBcIkVuZFwiLFxuICAgICAgICAzNjogXCJIb21lXCIsXG4gICAgICAgIDM3OiBcIkxlZnRcIixcbiAgICAgICAgMzg6IFwiVXBcIixcbiAgICAgICAgMzk6IFwiUmlnaHRcIixcbiAgICAgICAgNDA6IFwiRG93blwiLFxuICAgICAgICA0NDogXCJQcmludFwiLFxuICAgICAgICA0NTogXCJJbnNlcnRcIixcbiAgICAgICAgNDY6IFwiRGVsZXRlXCIsXG4gICAgICAgIDk2OiBcIk51bXBhZDBcIixcbiAgICAgICAgOTc6IFwiTnVtcGFkMVwiLFxuICAgICAgICA5ODogXCJOdW1wYWQyXCIsXG4gICAgICAgIDk5OiBcIk51bXBhZDNcIixcbiAgICAgICAgMTAwOiBcIk51bXBhZDRcIixcbiAgICAgICAgMTAxOiBcIk51bXBhZDVcIixcbiAgICAgICAgMTAyOiBcIk51bXBhZDZcIixcbiAgICAgICAgMTAzOiBcIk51bXBhZDdcIixcbiAgICAgICAgMTA0OiBcIk51bXBhZDhcIixcbiAgICAgICAgMTA1OiBcIk51bXBhZDlcIixcbiAgICAgICAgJy0xMyc6IFwiTnVtcGFkRW50ZXJcIixcbiAgICAgICAgMTEyOiBcIkYxXCIsXG4gICAgICAgIDExMzogXCJGMlwiLFxuICAgICAgICAxMTQ6IFwiRjNcIixcbiAgICAgICAgMTE1OiBcIkY0XCIsXG4gICAgICAgIDExNjogXCJGNVwiLFxuICAgICAgICAxMTc6IFwiRjZcIixcbiAgICAgICAgMTE4OiBcIkY3XCIsXG4gICAgICAgIDExOTogXCJGOFwiLFxuICAgICAgICAxMjA6IFwiRjlcIixcbiAgICAgICAgMTIxOiBcIkYxMFwiLFxuICAgICAgICAxMjI6IFwiRjExXCIsXG4gICAgICAgIDEyMzogXCJGMTJcIixcbiAgICAgICAgMTQ0OiBcIk51bWxvY2tcIixcbiAgICAgICAgMTQ1OiBcIlNjcm9sbGxvY2tcIlxuICAgIH0sXG5cbiAgICBQUklOVEFCTEVfS0VZUzoge1xuICAgICAgICAzMjogJyAnLCA0ODogJzAnLCA0OTogJzEnLCA1MDogJzInLCA1MTogJzMnLCA1MjogJzQnLCA1MzogJzUnLFxuICAgICAgICA1NDogJzYnLCA1NTogJzcnLCA1NjogJzgnLCA1NzogJzknLCA1OTogJzsnLCA2MTogJz0nLCA2NTogJ2EnLFxuICAgICAgICA2NjogJ2InLCA2NzogJ2MnLCA2ODogJ2QnLCA2OTogJ2UnLCA3MDogJ2YnLCA3MTogJ2cnLCA3MjogJ2gnLFxuICAgICAgICA3MzogJ2knLCA3NDogJ2onLCA3NTogJ2snLCA3NjogJ2wnLCA3NzogJ20nLCA3ODogJ24nLCA3OTogJ28nLFxuICAgICAgICA4MDogJ3AnLCA4MTogJ3EnLCA4MjogJ3InLCA4MzogJ3MnLCA4NDogJ3QnLCA4NTogJ3UnLCA4NjogJ3YnLFxuICAgICAgICA4NzogJ3cnLCA4ODogJ3gnLCA4OTogJ3knLCA5MDogJ3onLCAxMDc6ICcrJywgMTA5OiAnLScsIDExMDogJy4nLFxuICAgICAgICAxODc6ICc9JywgMTg4OiAnLCcsIDE4OTogJy0nLCAxOTA6ICcuJywgMTkxOiAnLycsIDE5MjogJ2AnLCAyMTk6ICdbJyxcbiAgICAgICAgMjIwOiAnXFxcXCcsIDIyMTogJ10nLCAyMjI6ICdcXCcnXG4gICAgfSxcbiAgICBlbnRlcjogMTMsXG4gICAgZXNjOiAyNyxcbiAgICBlc2NhcGU6IDI3LFxuICAgIGRlbDogNDZcbn07XG5cbi8vIEEgcmV2ZXJzZSBtYXAgb2YgRlVOQ1RJT05fS0VZU1xudmFyIG5hbWUsIGk7XG5mb3IgKGkgaW4gS2V5cy5GVU5DVElPTl9LRVlTKSB7XG4gICAgbmFtZSA9IEtleXMuRlVOQ1RJT05fS0VZU1tpXS50b0xvd2VyQ2FzZSgpO1xuICAgIEtleXNbbmFtZV0gPSBwYXJzZUludChpLCAxMCk7XG59XG5cbi8vIEEgcmV2ZXJzZSBtYXAgb2YgUFJJTlRBQkxFX0tFWVNcbmZvciAoaSBpbiBLZXlzLlBSSU5UQUJMRV9LRVlTKSB7XG4gICAgbmFtZSA9IEtleXMuUFJJTlRBQkxFX0tFWVNbaV0udG9Mb3dlckNhc2UoKTtcbiAgICBLZXlzW25hbWVdID0gcGFyc2VJbnQoaSwgMTApO1xufVxuXG4vLyBBZGQgdGhlIE1PRElGSUVSX0tFWVMsIEZVTkNUSU9OX0tFWVMgYW5kIFBSSU5UQUJMRV9LRVlTIHRvIHRoZSBLRVkgdmFyaWFibGVzIGFzIHdlbGwuXG5vb3AubWl4aW4oS2V5cywgS2V5cy5NT0RJRklFUl9LRVlTKTtcbm9vcC5taXhpbihLZXlzLCBLZXlzLlBSSU5UQUJMRV9LRVlTKTtcbm9vcC5taXhpbihLZXlzLCBLZXlzLkZVTkNUSU9OX0tFWVMpO1xuXG5cbi8vIHdvcmthcm91bmQgZm9yIGZpcmVmb3ggYnVnXG5LZXlzWzE3M10gPSAnLSc7XG5cbihmdW5jdGlvbigpIHtcbiAgICAvLyBXaHkgZG8gSSBuZWVkIHRvIHNldCBhbnkgaGVyZSByYXRoZXIgdGhhbiBzdHJpbmc/XG4gICAgdmFyIG1vZHM6IGFueSA9IFtcImNtZFwiLCBcImN0cmxcIiwgXCJhbHRcIiwgXCJzaGlmdFwiXTtcbiAgICBmb3IgKHZhciBpID0gTWF0aC5wb3coMiwgbW9kcy5sZW5ndGgpOyBpLS07KSB7XG4gICAgICAgIHZhciBmID0gZnVuY3Rpb24oczogc3RyaW5nKTogbnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiBpICYgS2V5cy5LRVlfTU9EU1tzXTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGZpbHRyYXRlOiBudW1iZXJbXSA9IG1vZHMuZmlsdGVyKGYpO1xuICAgICAgICBLZXlzLktFWV9NT0RTW2ldID0gbW9kcy5maWx0ZXIoZikuam9pbihcIi1cIikgKyBcIi1cIjtcbiAgICB9XG59KSgpO1xuXG5leHBvcnQgdmFyIEZVTkNUSU9OX0tFWVMgPSBLZXlzLkZVTkNUSU9OX0tFWVM7XG5leHBvcnQgdmFyIFBSSU5UQUJMRV9LRVlTID0gS2V5cy5QUklOVEFCTEVfS0VZUztcbmV4cG9ydCB2YXIgTU9ESUZJRVJfS0VZUyA9IEtleXMuTU9ESUZJRVJfS0VZUztcbmV4cG9ydCB2YXIgS0VZX01PRFMgPSBLZXlzLktFWV9NT0RTO1xuXG4vLyBhbGlhc2VzXG5leHBvcnQgdmFyIGVudGVyID0gS2V5c1tcInJldHVyblwiXTtcbmV4cG9ydCB2YXIgZXNjYXBlID0gS2V5cy5lc2M7XG5leHBvcnQgdmFyIGRlbCA9IEtleXNbXCJkZWxldGVcIl07XG5cbm9vcC5taXhpbihleHBvcnRzLCBLZXlzKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGtleUNvZGVUb1N0cmluZyhrZXlDb2RlKSB7XG4gICAgLy8gTGFuZ3VhZ2Utc3dpdGNoaW5nIGtleXN0cm9rZSBpbiBDaHJvbWUvTGludXggZW1pdHMga2V5Q29kZSAwLlxuICAgIHZhciBrZXlTdHJpbmcgPSBLZXlzW2tleUNvZGVdO1xuICAgIGlmICh0eXBlb2Yga2V5U3RyaW5nICE9IFwic3RyaW5nXCIpXG4gICAgICAgIGtleVN0cmluZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoa2V5Q29kZSk7XG4gICAgcmV0dXJuIGtleVN0cmluZy50b0xvd2VyQ2FzZSgpO1xufVxuIl19