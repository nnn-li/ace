/*! @license
==========================================================================
SproutCore -- JavaScript Application Framework
copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the "Software"),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.

SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

For more information about SproutCore, visit http://www.sproutcore.com


==========================================================================
@license */
import { mixin } from './oop';
var Keys = {
    MODIFIER_KEYS: {
        16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta'
    },
    KEY_MODS: {
        "ctrl": 1, "alt": 2, "option": 2, "shift": 4,
        "super": 8, "meta": 8, "command": 8, "cmd": 8
    },
    FUNCTION_KEYS: {
        8: "Backspace",
        9: "Tab",
        13: "Return",
        19: "Pause",
        27: "Esc",
        32: "Space",
        33: "PageUp",
        34: "PageDown",
        35: "End",
        36: "Home",
        37: "Left",
        38: "Up",
        39: "Right",
        40: "Down",
        44: "Print",
        45: "Insert",
        46: "Delete",
        96: "Numpad0",
        97: "Numpad1",
        98: "Numpad2",
        99: "Numpad3",
        100: "Numpad4",
        101: "Numpad5",
        102: "Numpad6",
        103: "Numpad7",
        104: "Numpad8",
        105: "Numpad9",
        '-13': "NumpadEnter",
        112: "F1",
        113: "F2",
        114: "F3",
        115: "F4",
        116: "F5",
        117: "F6",
        118: "F7",
        119: "F8",
        120: "F9",
        121: "F10",
        122: "F11",
        123: "F12",
        144: "Numlock",
        145: "Scrolllock"
    },
    PRINTABLE_KEYS: {
        32: ' ', 48: '0', 49: '1', 50: '2', 51: '3', 52: '4', 53: '5',
        54: '6', 55: '7', 56: '8', 57: '9', 59: ';', 61: '=', 65: 'a',
        66: 'b', 67: 'c', 68: 'd', 69: 'e', 70: 'f', 71: 'g', 72: 'h',
        73: 'i', 74: 'j', 75: 'k', 76: 'l', 77: 'm', 78: 'n', 79: 'o',
        80: 'p', 81: 'q', 82: 'r', 83: 's', 84: 't', 85: 'u', 86: 'v',
        87: 'w', 88: 'x', 89: 'y', 90: 'z', 107: '+', 109: '-', 110: '.',
        187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`', 219: '[',
        220: '\\', 221: ']', 222: '\''
    },
    enter: 13,
    esc: 27,
    escape: 27,
    del: 46
};
var name, i;
for (i in Keys.FUNCTION_KEYS) {
    name = Keys.FUNCTION_KEYS[i].toLowerCase();
    Keys[name] = parseInt(i, 10);
}
for (i in Keys.PRINTABLE_KEYS) {
    name = Keys.PRINTABLE_KEYS[i].toLowerCase();
    Keys[name] = parseInt(i, 10);
}
mixin(Keys, Keys.MODIFIER_KEYS);
mixin(Keys, Keys.PRINTABLE_KEYS);
mixin(Keys, Keys.FUNCTION_KEYS);
Keys[173] = '-';
(function () {
    var mods = ["cmd", "ctrl", "alt", "shift"];
    for (var i = Math.pow(2, mods.length); i--;) {
        var f = function (s) {
            return i & Keys.KEY_MODS[s];
        };
        var filtrate = mods.filter(f);
        Keys.KEY_MODS[i] = mods.filter(f).join("-") + "-";
    }
})();
export var FUNCTION_KEYS = Keys.FUNCTION_KEYS;
export var PRINTABLE_KEYS = Keys.PRINTABLE_KEYS;
export var MODIFIER_KEYS = Keys.MODIFIER_KEYS;
export var KEY_MODS = Keys.KEY_MODS;
export var enter = Keys["return"];
export var escape = Keys.esc;
export var del = Keys["delete"];
mixin(exports, Keys);
export function keyCodeToString(keyCode) {
    var keyString = Keys[keyCode];
    if (typeof keyString != "string")
        keyString = String.fromCharCode(keyCode);
    return keyString.toLowerCase();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2V5cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIva2V5cy50cyJdLCJuYW1lcyI6WyJrZXlDb2RlVG9TdHJpbmciXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQTZCVztPQUlKLEVBQUUsS0FBSyxFQUFFLE1BQU0sT0FBTztBQU83QixJQUFJLElBQUksR0FBRztJQUNQLGFBQWEsRUFBRTtRQUNYLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNO0tBQ2xEO0lBRUQsUUFBUSxFQUFFO1FBQ04sTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUM7UUFDNUMsT0FBTyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUM7S0FDaEQ7SUFFRCxhQUFhLEVBQUU7UUFDWCxDQUFDLEVBQUUsV0FBVztRQUNkLENBQUMsRUFBRSxLQUFLO1FBQ1IsRUFBRSxFQUFFLFFBQVE7UUFDWixFQUFFLEVBQUUsT0FBTztRQUNYLEVBQUUsRUFBRSxLQUFLO1FBQ1QsRUFBRSxFQUFFLE9BQU87UUFDWCxFQUFFLEVBQUUsUUFBUTtRQUNaLEVBQUUsRUFBRSxVQUFVO1FBQ2QsRUFBRSxFQUFFLEtBQUs7UUFDVCxFQUFFLEVBQUUsTUFBTTtRQUNWLEVBQUUsRUFBRSxNQUFNO1FBQ1YsRUFBRSxFQUFFLElBQUk7UUFDUixFQUFFLEVBQUUsT0FBTztRQUNYLEVBQUUsRUFBRSxNQUFNO1FBQ1YsRUFBRSxFQUFFLE9BQU87UUFDWCxFQUFFLEVBQUUsUUFBUTtRQUNaLEVBQUUsRUFBRSxRQUFRO1FBQ1osRUFBRSxFQUFFLFNBQVM7UUFDYixFQUFFLEVBQUUsU0FBUztRQUNiLEVBQUUsRUFBRSxTQUFTO1FBQ2IsRUFBRSxFQUFFLFNBQVM7UUFDYixHQUFHLEVBQUUsU0FBUztRQUNkLEdBQUcsRUFBRSxTQUFTO1FBQ2QsR0FBRyxFQUFFLFNBQVM7UUFDZCxHQUFHLEVBQUUsU0FBUztRQUNkLEdBQUcsRUFBRSxTQUFTO1FBQ2QsR0FBRyxFQUFFLFNBQVM7UUFDZCxLQUFLLEVBQUUsYUFBYTtRQUNwQixHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxJQUFJO1FBQ1QsR0FBRyxFQUFFLElBQUk7UUFDVCxHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxJQUFJO1FBQ1QsR0FBRyxFQUFFLElBQUk7UUFDVCxHQUFHLEVBQUUsSUFBSTtRQUNULEdBQUcsRUFBRSxJQUFJO1FBQ1QsR0FBRyxFQUFFLElBQUk7UUFDVCxHQUFHLEVBQUUsS0FBSztRQUNWLEdBQUcsRUFBRSxLQUFLO1FBQ1YsR0FBRyxFQUFFLEtBQUs7UUFDVixHQUFHLEVBQUUsU0FBUztRQUNkLEdBQUcsRUFBRSxZQUFZO0tBQ3BCO0lBRUQsY0FBYyxFQUFFO1FBQ1osRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUc7UUFDN0QsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUc7UUFDN0QsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUc7UUFDN0QsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUc7UUFDN0QsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUc7UUFDN0QsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7UUFDaEUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7UUFDcEUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJO0tBQ2pDO0lBQ0QsS0FBSyxFQUFFLEVBQUU7SUFDVCxHQUFHLEVBQUUsRUFBRTtJQUNQLE1BQU0sRUFBRSxFQUFFO0lBQ1YsR0FBRyxFQUFFLEVBQUU7Q0FDVixDQUFDO0FBR0YsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0FBQ1osR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO0lBQzNCLElBQUksR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQzNDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ2pDLENBQUM7QUFHRCxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7SUFDNUIsSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDNUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDakMsQ0FBQztBQUdELEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQ2hDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQ2pDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBSWhDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7QUFFaEIsQ0FBQztJQUVHLElBQUksSUFBSSxHQUFRLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDaEQsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQztRQUMxQyxJQUFJLENBQUMsR0FBRyxVQUFTLENBQVM7WUFDdEIsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLENBQUMsQ0FBQztRQUNGLElBQUksUUFBUSxHQUFhLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7SUFDdEQsQ0FBQztBQUNMLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFFTCxXQUFXLGFBQWEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO0FBQzlDLFdBQVcsY0FBYyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7QUFDaEQsV0FBVyxhQUFhLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztBQUM5QyxXQUFXLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0FBR3BDLFdBQVcsS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNsQyxXQUFXLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDO0FBQzdCLFdBQVcsR0FBRyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUVoQyxLQUFLLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBRXJCLGdDQUFnQyxPQUFPO0lBRW5DQSxJQUFJQSxTQUFTQSxHQUFHQSxJQUFJQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQTtJQUM5QkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsT0FBT0EsU0FBU0EsSUFBSUEsUUFBUUEsQ0FBQ0E7UUFDN0JBLFNBQVNBLEdBQUdBLE1BQU1BLENBQUNBLFlBQVlBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO0lBQzdDQSxNQUFNQSxDQUFDQSxTQUFTQSxDQUFDQSxXQUFXQSxFQUFFQSxDQUFDQTtBQUNuQ0EsQ0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGxpY2Vuc2Vcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5TcHJvdXRDb3JlIC0tIEphdmFTY3JpcHQgQXBwbGljYXRpb24gRnJhbWV3b3JrXG5jb3B5cmlnaHQgMjAwNi0yMDA5LCBTcHJvdXQgU3lzdGVtcyBJbmMuLCBBcHBsZSBJbmMuIGFuZCBjb250cmlidXRvcnMuXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG5jb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksXG50byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uXG50aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSxcbmFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZVxuU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbkZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbkRFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuU3Byb3V0Q29yZSBhbmQgdGhlIFNwcm91dENvcmUgbG9nbyBhcmUgdHJhZGVtYXJrcyBvZiBTcHJvdXQgU3lzdGVtcywgSW5jLlxuXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBTcHJvdXRDb3JlLCB2aXNpdCBodHRwOi8vd3d3LnNwcm91dGNvcmUuY29tXG5cblxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbkBsaWNlbnNlICovXG5cbi8vIE1vc3Qgb2YgdGhlIGZvbGxvd2luZyBjb2RlIGlzIHRha2VuIGZyb20gU3Byb3V0Q29yZSB3aXRoIGEgZmV3IGNoYW5nZXMuXG5cbmltcG9ydCB7IG1peGluIH0gZnJvbSAnLi9vb3AnO1xuXG5kZWNsYXJlIHZhciBleHBvcnRzOiBhbnk7XG5cbi8qXG4gKiBIZWxwZXIgZnVuY3Rpb25zIGFuZCBoYXNoZXMgZm9yIGtleSBoYW5kbGluZy5cbiAqL1xudmFyIEtleXMgPSB7XG4gICAgTU9ESUZJRVJfS0VZUzoge1xuICAgICAgICAxNjogJ1NoaWZ0JywgMTc6ICdDdHJsJywgMTg6ICdBbHQnLCAyMjQ6ICdNZXRhJ1xuICAgIH0sXG5cbiAgICBLRVlfTU9EUzoge1xuICAgICAgICBcImN0cmxcIjogMSwgXCJhbHRcIjogMiwgXCJvcHRpb25cIjogMiwgXCJzaGlmdFwiOiA0LFxuICAgICAgICBcInN1cGVyXCI6IDgsIFwibWV0YVwiOiA4LCBcImNvbW1hbmRcIjogOCwgXCJjbWRcIjogOFxuICAgIH0sXG5cbiAgICBGVU5DVElPTl9LRVlTOiB7XG4gICAgICAgIDg6IFwiQmFja3NwYWNlXCIsXG4gICAgICAgIDk6IFwiVGFiXCIsXG4gICAgICAgIDEzOiBcIlJldHVyblwiLFxuICAgICAgICAxOTogXCJQYXVzZVwiLFxuICAgICAgICAyNzogXCJFc2NcIixcbiAgICAgICAgMzI6IFwiU3BhY2VcIixcbiAgICAgICAgMzM6IFwiUGFnZVVwXCIsXG4gICAgICAgIDM0OiBcIlBhZ2VEb3duXCIsXG4gICAgICAgIDM1OiBcIkVuZFwiLFxuICAgICAgICAzNjogXCJIb21lXCIsXG4gICAgICAgIDM3OiBcIkxlZnRcIixcbiAgICAgICAgMzg6IFwiVXBcIixcbiAgICAgICAgMzk6IFwiUmlnaHRcIixcbiAgICAgICAgNDA6IFwiRG93blwiLFxuICAgICAgICA0NDogXCJQcmludFwiLFxuICAgICAgICA0NTogXCJJbnNlcnRcIixcbiAgICAgICAgNDY6IFwiRGVsZXRlXCIsXG4gICAgICAgIDk2OiBcIk51bXBhZDBcIixcbiAgICAgICAgOTc6IFwiTnVtcGFkMVwiLFxuICAgICAgICA5ODogXCJOdW1wYWQyXCIsXG4gICAgICAgIDk5OiBcIk51bXBhZDNcIixcbiAgICAgICAgMTAwOiBcIk51bXBhZDRcIixcbiAgICAgICAgMTAxOiBcIk51bXBhZDVcIixcbiAgICAgICAgMTAyOiBcIk51bXBhZDZcIixcbiAgICAgICAgMTAzOiBcIk51bXBhZDdcIixcbiAgICAgICAgMTA0OiBcIk51bXBhZDhcIixcbiAgICAgICAgMTA1OiBcIk51bXBhZDlcIixcbiAgICAgICAgJy0xMyc6IFwiTnVtcGFkRW50ZXJcIixcbiAgICAgICAgMTEyOiBcIkYxXCIsXG4gICAgICAgIDExMzogXCJGMlwiLFxuICAgICAgICAxMTQ6IFwiRjNcIixcbiAgICAgICAgMTE1OiBcIkY0XCIsXG4gICAgICAgIDExNjogXCJGNVwiLFxuICAgICAgICAxMTc6IFwiRjZcIixcbiAgICAgICAgMTE4OiBcIkY3XCIsXG4gICAgICAgIDExOTogXCJGOFwiLFxuICAgICAgICAxMjA6IFwiRjlcIixcbiAgICAgICAgMTIxOiBcIkYxMFwiLFxuICAgICAgICAxMjI6IFwiRjExXCIsXG4gICAgICAgIDEyMzogXCJGMTJcIixcbiAgICAgICAgMTQ0OiBcIk51bWxvY2tcIixcbiAgICAgICAgMTQ1OiBcIlNjcm9sbGxvY2tcIlxuICAgIH0sXG5cbiAgICBQUklOVEFCTEVfS0VZUzoge1xuICAgICAgICAzMjogJyAnLCA0ODogJzAnLCA0OTogJzEnLCA1MDogJzInLCA1MTogJzMnLCA1MjogJzQnLCA1MzogJzUnLFxuICAgICAgICA1NDogJzYnLCA1NTogJzcnLCA1NjogJzgnLCA1NzogJzknLCA1OTogJzsnLCA2MTogJz0nLCA2NTogJ2EnLFxuICAgICAgICA2NjogJ2InLCA2NzogJ2MnLCA2ODogJ2QnLCA2OTogJ2UnLCA3MDogJ2YnLCA3MTogJ2cnLCA3MjogJ2gnLFxuICAgICAgICA3MzogJ2knLCA3NDogJ2onLCA3NTogJ2snLCA3NjogJ2wnLCA3NzogJ20nLCA3ODogJ24nLCA3OTogJ28nLFxuICAgICAgICA4MDogJ3AnLCA4MTogJ3EnLCA4MjogJ3InLCA4MzogJ3MnLCA4NDogJ3QnLCA4NTogJ3UnLCA4NjogJ3YnLFxuICAgICAgICA4NzogJ3cnLCA4ODogJ3gnLCA4OTogJ3knLCA5MDogJ3onLCAxMDc6ICcrJywgMTA5OiAnLScsIDExMDogJy4nLFxuICAgICAgICAxODc6ICc9JywgMTg4OiAnLCcsIDE4OTogJy0nLCAxOTA6ICcuJywgMTkxOiAnLycsIDE5MjogJ2AnLCAyMTk6ICdbJyxcbiAgICAgICAgMjIwOiAnXFxcXCcsIDIyMTogJ10nLCAyMjI6ICdcXCcnXG4gICAgfSxcbiAgICBlbnRlcjogMTMsXG4gICAgZXNjOiAyNyxcbiAgICBlc2NhcGU6IDI3LFxuICAgIGRlbDogNDZcbn07XG5cbi8vIEEgcmV2ZXJzZSBtYXAgb2YgRlVOQ1RJT05fS0VZU1xudmFyIG5hbWUsIGk7XG5mb3IgKGkgaW4gS2V5cy5GVU5DVElPTl9LRVlTKSB7XG4gICAgbmFtZSA9IEtleXMuRlVOQ1RJT05fS0VZU1tpXS50b0xvd2VyQ2FzZSgpO1xuICAgIEtleXNbbmFtZV0gPSBwYXJzZUludChpLCAxMCk7XG59XG5cbi8vIEEgcmV2ZXJzZSBtYXAgb2YgUFJJTlRBQkxFX0tFWVNcbmZvciAoaSBpbiBLZXlzLlBSSU5UQUJMRV9LRVlTKSB7XG4gICAgbmFtZSA9IEtleXMuUFJJTlRBQkxFX0tFWVNbaV0udG9Mb3dlckNhc2UoKTtcbiAgICBLZXlzW25hbWVdID0gcGFyc2VJbnQoaSwgMTApO1xufVxuXG4vLyBBZGQgdGhlIE1PRElGSUVSX0tFWVMsIEZVTkNUSU9OX0tFWVMgYW5kIFBSSU5UQUJMRV9LRVlTIHRvIHRoZSBLRVkgdmFyaWFibGVzIGFzIHdlbGwuXG5taXhpbihLZXlzLCBLZXlzLk1PRElGSUVSX0tFWVMpO1xubWl4aW4oS2V5cywgS2V5cy5QUklOVEFCTEVfS0VZUyk7XG5taXhpbihLZXlzLCBLZXlzLkZVTkNUSU9OX0tFWVMpO1xuXG5cbi8vIHdvcmthcm91bmQgZm9yIGZpcmVmb3ggYnVnXG5LZXlzWzE3M10gPSAnLSc7XG5cbihmdW5jdGlvbigpIHtcbiAgICAvLyBXaHkgZG8gSSBuZWVkIHRvIHNldCBhbnkgaGVyZSByYXRoZXIgdGhhbiBzdHJpbmc/XG4gICAgdmFyIG1vZHM6IGFueSA9IFtcImNtZFwiLCBcImN0cmxcIiwgXCJhbHRcIiwgXCJzaGlmdFwiXTtcbiAgICBmb3IgKHZhciBpID0gTWF0aC5wb3coMiwgbW9kcy5sZW5ndGgpOyBpLS07KSB7XG4gICAgICAgIHZhciBmID0gZnVuY3Rpb24oczogc3RyaW5nKTogbnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiBpICYgS2V5cy5LRVlfTU9EU1tzXTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGZpbHRyYXRlOiBudW1iZXJbXSA9IG1vZHMuZmlsdGVyKGYpO1xuICAgICAgICBLZXlzLktFWV9NT0RTW2ldID0gbW9kcy5maWx0ZXIoZikuam9pbihcIi1cIikgKyBcIi1cIjtcbiAgICB9XG59KSgpO1xuXG5leHBvcnQgdmFyIEZVTkNUSU9OX0tFWVMgPSBLZXlzLkZVTkNUSU9OX0tFWVM7XG5leHBvcnQgdmFyIFBSSU5UQUJMRV9LRVlTID0gS2V5cy5QUklOVEFCTEVfS0VZUztcbmV4cG9ydCB2YXIgTU9ESUZJRVJfS0VZUyA9IEtleXMuTU9ESUZJRVJfS0VZUztcbmV4cG9ydCB2YXIgS0VZX01PRFMgPSBLZXlzLktFWV9NT0RTO1xuXG4vLyBhbGlhc2VzXG5leHBvcnQgdmFyIGVudGVyID0gS2V5c1tcInJldHVyblwiXTtcbmV4cG9ydCB2YXIgZXNjYXBlID0gS2V5cy5lc2M7XG5leHBvcnQgdmFyIGRlbCA9IEtleXNbXCJkZWxldGVcIl07XG5cbm1peGluKGV4cG9ydHMsIEtleXMpO1xuXG5leHBvcnQgZnVuY3Rpb24ga2V5Q29kZVRvU3RyaW5nKGtleUNvZGUpIHtcbiAgICAvLyBMYW5ndWFnZS1zd2l0Y2hpbmcga2V5c3Ryb2tlIGluIENocm9tZS9MaW51eCBlbWl0cyBrZXlDb2RlIDAuXG4gICAgdmFyIGtleVN0cmluZyA9IEtleXNba2V5Q29kZV07XG4gICAgaWYgKHR5cGVvZiBrZXlTdHJpbmcgIT0gXCJzdHJpbmdcIilcbiAgICAgICAga2V5U3RyaW5nID0gU3RyaW5nLmZyb21DaGFyQ29kZShrZXlDb2RlKTtcbiAgICByZXR1cm4ga2V5U3RyaW5nLnRvTG93ZXJDYXNlKCk7XG59XG4iXX0=