import { DIRECTION_VERTICAL, Manager } from '../hammer/hammer';
import { PanRecognizer } from '../hammer/recognizers/pan';
import { TapRecognizer } from '../hammer/recognizers/tap';
export function touchManager(editor) {
    var target = editor.renderer.getMouseEventTarget();
    var manager = new Manager(target);
    manager.add(new PanRecognizer('pan', true).setDirection(DIRECTION_VERTICAL).setThreshold(20));
    manager.add(new TapRecognizer('tap', true));
    manager.on('pan', function (movement) {
        editor.renderer.scrollBy(-movement.x, -movement.y);
    });
    manager.on('tap', function (event) {
        var pos = editor.renderer.screenToTextCoordinates(event.clientX, event.clientY);
        pos.row = Math.max(0, Math.min(pos.row, editor.session.getLength() - 1));
        editor.moveCursorToPosition(pos);
        editor.renderer.scrollCursorIntoView();
        editor.focus();
    });
    return manager;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG91Y2guanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdG91Y2gvdG91Y2gudHMiXSwibmFtZXMiOlsidG91Y2hNYW5hZ2VyIl0sIm1hcHBpbmdzIjoiT0FHTyxFQUVQLGtCQUFrQixFQUNsQixPQUFPLEVBRU4sTUFBTSxrQkFBa0I7T0FDbEIsRUFBQyxhQUFhLEVBQUMsTUFBTSwyQkFBMkI7T0FLaEQsRUFBQyxhQUFhLEVBQUMsTUFBTSwyQkFBMkI7QUFrQnZELDZCQUE2QixNQUFjO0lBRXZDQSxJQUFJQSxNQUFNQSxHQUFtQkEsTUFBTUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxDQUFDQTtJQUNuRUEsSUFBSUEsT0FBT0EsR0FBR0EsSUFBSUEsT0FBT0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0E7SUFFbENBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLGFBQWFBLENBQUNBLEtBQUtBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBLFlBQVlBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDOUZBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLGFBQWFBLENBQUNBLEtBQUtBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO0lBRTVDQSxPQUFPQSxDQUFDQSxFQUFFQSxDQUFDQSxLQUFLQSxFQUFFQSxVQUFTQSxRQUFrQkE7UUFDekMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQ0EsQ0FBQ0E7SUFFSEEsT0FBT0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsS0FBS0EsRUFBRUEsVUFBU0EsS0FBcUJBO1FBQzVDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsdUJBQXVCLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFaEYsR0FBRyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXpFLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQyxNQUFNLENBQUMsUUFBUSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDdkMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ25CLENBQUMsQ0FBQ0EsQ0FBQ0E7SUFFSEEsTUFBTUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7QUFDbkJBLENBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt9IGZyb20gXCIuLi9saWIvdXNlcmFnZW50XCI7XG5pbXBvcnQgRWRpdG9yIGZyb20gJy4uL0VkaXRvcic7XG5pbXBvcnQge30gZnJvbSAnLi4vbGliL2V2ZW50JztcbmltcG9ydCB7XG5DbGllbnRMb2NhdGlvbixcbkRJUkVDVElPTl9WRVJUSUNBTCxcbk1hbmFnZXIsXG5WZWN0b3JFMlxufSBmcm9tICcuLi9oYW1tZXIvaGFtbWVyJztcbmltcG9ydCB7UGFuUmVjb2duaXplcn0gZnJvbSAnLi4vaGFtbWVyL3JlY29nbml6ZXJzL3Bhbic7XG5pbXBvcnQge30gZnJvbSAnLi4vaGFtbWVyL3JlY29nbml6ZXJzL3BpbmNoJztcbmltcG9ydCB7fSBmcm9tICcuLi9oYW1tZXIvcmVjb2duaXplcnMvcHJlc3MnO1xuaW1wb3J0IHt9IGZyb20gJy4uL2hhbW1lci9yZWNvZ25pemVycy9yb3RhdGUnO1xuaW1wb3J0IHt9IGZyb20gJy4uL2hhbW1lci9yZWNvZ25pemVycy9zd2lwZSc7XG5pbXBvcnQge1RhcFJlY29nbml6ZXJ9IGZyb20gJy4uL2hhbW1lci9yZWNvZ25pemVycy90YXAnO1xuXG4vLyBJdCBzZWVtcyB0aGF0IFR5cGVTY3JpcHQgMS4wLjAgZG9lc24ndCBrbm93IGFib3V0IFRvdWNoRXZlbnQuXG4vLyBUaGlzIHNob3VsZCBtb3RpdmF0ZSB0aGUgdXBncmFkZSBvZiBUeXBlU2NyaXB0IGFuZCBoYWNraW5nIGZvciBBQ0UuXG5leHBvcnQgaW50ZXJmYWNlIElUb3VjaCB7XG4gICAgY2xpZW50WDogbnVtYmVyO1xuICAgIGNsaWVudFk6IG51bWJlcjtcbiAgICBwYWdlWDogbnVtYmVyO1xuICAgIHBhZ2VZOiBudW1iZXI7XG4gICAgc2NyZWVuWDogbnVtYmVyO1xuICAgIHNjcmVlblk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJVG91Y2hFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgdG91Y2hlczogSVRvdWNoW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b3VjaE1hbmFnZXIoZWRpdG9yOiBFZGl0b3IpIHtcblxuICAgIHZhciB0YXJnZXQ6IEhUTUxEaXZFbGVtZW50ID0gZWRpdG9yLnJlbmRlcmVyLmdldE1vdXNlRXZlbnRUYXJnZXQoKTtcbiAgICB2YXIgbWFuYWdlciA9IG5ldyBNYW5hZ2VyKHRhcmdldCk7XG5cbiAgICBtYW5hZ2VyLmFkZChuZXcgUGFuUmVjb2duaXplcigncGFuJywgdHJ1ZSkuc2V0RGlyZWN0aW9uKERJUkVDVElPTl9WRVJUSUNBTCkuc2V0VGhyZXNob2xkKDIwKSk7XG4gICAgbWFuYWdlci5hZGQobmV3IFRhcFJlY29nbml6ZXIoJ3RhcCcsIHRydWUpKTtcblxuICAgIG1hbmFnZXIub24oJ3BhbicsIGZ1bmN0aW9uKG1vdmVtZW50OiBWZWN0b3JFMikge1xuICAgICAgICBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsQnkoLW1vdmVtZW50LngsIC1tb3ZlbWVudC55KTtcbiAgICB9KTtcblxuICAgIG1hbmFnZXIub24oJ3RhcCcsIGZ1bmN0aW9uKGV2ZW50OiBDbGllbnRMb2NhdGlvbikge1xuICAgICAgICB2YXIgcG9zID0gZWRpdG9yLnJlbmRlcmVyLnNjcmVlblRvVGV4dENvb3JkaW5hdGVzKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xuXG4gICAgICAgIHBvcy5yb3cgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihwb3Mucm93LCBlZGl0b3Iuc2Vzc2lvbi5nZXRMZW5ndGgoKSAtIDEpKTtcblxuICAgICAgICBlZGl0b3IubW92ZUN1cnNvclRvUG9zaXRpb24ocG9zKTtcbiAgICAgICAgZWRpdG9yLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCk7XG4gICAgICAgIGVkaXRvci5mb2N1cygpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1hbmFnZXI7XG59XG4iXX0=