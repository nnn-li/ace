import { DIRECTION_VERTICAL, Manager } from '../hammer/hammer';
import { PanRecognizer } from '../hammer/recognizers/pan';
import { TapRecognizer } from '../hammer/recognizers/tap';
export function touchManager(editor) {
    var target = editor.renderer.getMouseEventTarget();
    var manager = new Manager(target);
    manager.add(new PanRecognizer('pan', true).setDirection(DIRECTION_VERTICAL).setThreshold(20));
    manager.add(new TapRecognizer('tap', true));
    manager.on('pan', function (movement) {
        editor.renderer.scrollBy(-movement.x, -movement.y);
    });
    manager.on('tap', function (event) {
        var pos = editor.renderer.screenToTextCoordinates(event.clientX, event.clientY);
        pos.row = Math.max(0, Math.min(pos.row, editor.getSession().getLength() - 1));
        editor.moveCursorToPosition(pos);
        editor.renderer.scrollCursorIntoView();
        editor.focus();
    });
    return manager;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG91Y2guanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdG91Y2gvdG91Y2gudHMiXSwibmFtZXMiOlsidG91Y2hNYW5hZ2VyIl0sIm1hcHBpbmdzIjoiT0FHTyxFQUVQLGtCQUFrQixFQUNsQixPQUFPLEVBRU4sTUFBTSxrQkFBa0I7T0FDbEIsRUFBQyxhQUFhLEVBQUMsTUFBTSwyQkFBMkI7T0FLaEQsRUFBQyxhQUFhLEVBQUMsTUFBTSwyQkFBMkI7QUFrQnZELDZCQUE2QixNQUFjO0lBRXZDQSxJQUFJQSxNQUFNQSxHQUFtQkEsTUFBTUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxDQUFDQTtJQUNuRUEsSUFBSUEsT0FBT0EsR0FBR0EsSUFBSUEsT0FBT0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0E7SUFFbENBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLGFBQWFBLENBQUNBLEtBQUtBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBLFlBQVlBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDOUZBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLGFBQWFBLENBQUNBLEtBQUtBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO0lBRTVDQSxPQUFPQSxDQUFDQSxFQUFFQSxDQUFDQSxLQUFLQSxFQUFFQSxVQUFTQSxRQUFrQkE7UUFDekMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQ0EsQ0FBQ0E7SUFFSEEsT0FBT0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsS0FBS0EsRUFBRUEsVUFBU0EsS0FBcUJBO1FBQzVDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsdUJBQXVCLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFaEYsR0FBRyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFOUUsTUFBTSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pDLE1BQU0sQ0FBQyxRQUFRLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUN2QyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDbkIsQ0FBQyxDQUFDQSxDQUFDQTtJQUVIQSxNQUFNQSxDQUFDQSxPQUFPQSxDQUFDQTtBQUNuQkEsQ0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge30gZnJvbSBcIi4uL2xpYi91c2VyYWdlbnRcIjtcbmltcG9ydCBFZGl0b3IgZnJvbSAnLi4vRWRpdG9yJztcbmltcG9ydCB7fSBmcm9tICcuLi9saWIvZXZlbnQnO1xuaW1wb3J0IHtcbkNsaWVudExvY2F0aW9uLFxuRElSRUNUSU9OX1ZFUlRJQ0FMLFxuTWFuYWdlcixcblZlY3RvckUyXG59IGZyb20gJy4uL2hhbW1lci9oYW1tZXInO1xuaW1wb3J0IHtQYW5SZWNvZ25pemVyfSBmcm9tICcuLi9oYW1tZXIvcmVjb2duaXplcnMvcGFuJztcbmltcG9ydCB7fSBmcm9tICcuLi9oYW1tZXIvcmVjb2duaXplcnMvcGluY2gnO1xuaW1wb3J0IHt9IGZyb20gJy4uL2hhbW1lci9yZWNvZ25pemVycy9wcmVzcyc7XG5pbXBvcnQge30gZnJvbSAnLi4vaGFtbWVyL3JlY29nbml6ZXJzL3JvdGF0ZSc7XG5pbXBvcnQge30gZnJvbSAnLi4vaGFtbWVyL3JlY29nbml6ZXJzL3N3aXBlJztcbmltcG9ydCB7VGFwUmVjb2duaXplcn0gZnJvbSAnLi4vaGFtbWVyL3JlY29nbml6ZXJzL3RhcCc7XG5cbi8vIEl0IHNlZW1zIHRoYXQgVHlwZVNjcmlwdCAxLjAuMCBkb2Vzbid0IGtub3cgYWJvdXQgVG91Y2hFdmVudC5cbi8vIFRoaXMgc2hvdWxkIG1vdGl2YXRlIHRoZSB1cGdyYWRlIG9mIFR5cGVTY3JpcHQgYW5kIGhhY2tpbmcgZm9yIEFDRS5cbmV4cG9ydCBpbnRlcmZhY2UgSVRvdWNoIHtcbiAgICBjbGllbnRYOiBudW1iZXI7XG4gICAgY2xpZW50WTogbnVtYmVyO1xuICAgIHBhZ2VYOiBudW1iZXI7XG4gICAgcGFnZVk6IG51bWJlcjtcbiAgICBzY3JlZW5YOiBudW1iZXI7XG4gICAgc2NyZWVuWTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElUb3VjaEV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAgIHR5cGU6IHN0cmluZztcbiAgICB0b3VjaGVzOiBJVG91Y2hbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvdWNoTWFuYWdlcihlZGl0b3I6IEVkaXRvcikge1xuXG4gICAgdmFyIHRhcmdldDogSFRNTERpdkVsZW1lbnQgPSBlZGl0b3IucmVuZGVyZXIuZ2V0TW91c2VFdmVudFRhcmdldCgpO1xuICAgIHZhciBtYW5hZ2VyID0gbmV3IE1hbmFnZXIodGFyZ2V0KTtcblxuICAgIG1hbmFnZXIuYWRkKG5ldyBQYW5SZWNvZ25pemVyKCdwYW4nLCB0cnVlKS5zZXREaXJlY3Rpb24oRElSRUNUSU9OX1ZFUlRJQ0FMKS5zZXRUaHJlc2hvbGQoMjApKTtcbiAgICBtYW5hZ2VyLmFkZChuZXcgVGFwUmVjb2duaXplcigndGFwJywgdHJ1ZSkpO1xuXG4gICAgbWFuYWdlci5vbigncGFuJywgZnVuY3Rpb24obW92ZW1lbnQ6IFZlY3RvckUyKSB7XG4gICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxCeSgtbW92ZW1lbnQueCwgLW1vdmVtZW50LnkpO1xuICAgIH0pO1xuXG4gICAgbWFuYWdlci5vbigndGFwJywgZnVuY3Rpb24oZXZlbnQ6IENsaWVudExvY2F0aW9uKSB7XG4gICAgICAgIHZhciBwb3MgPSBlZGl0b3IucmVuZGVyZXIuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXMoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG5cbiAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIE1hdGgubWluKHBvcy5yb3csIGVkaXRvci5nZXRTZXNzaW9uKCkuZ2V0TGVuZ3RoKCkgLSAxKSk7XG5cbiAgICAgICAgZWRpdG9yLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKHBvcyk7XG4gICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldygpO1xuICAgICAgICBlZGl0b3IuZm9jdXMoKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBtYW5hZ2VyO1xufVxuIl19