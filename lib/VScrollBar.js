import { addListener } from "./lib/event";
import ScrollBar from './ScrollBar';
import { scrollbarWidth } from "./lib/dom";
export default class VScrollBar extends ScrollBar {
    constructor(parent, renderer) {
        super(parent, '-v');
        this._scrollTop = 0;
        renderer.$scrollbarWidth = this._width = scrollbarWidth(parent.ownerDocument);
        this.inner.style.width = this.element.style.width = (this._width || 15) + 5 + "px";
        addListener(this.element, "scroll", this.onScroll.bind(this));
    }
    onScroll() {
        if (!this.skipEvent) {
            this._scrollTop = this.element.scrollTop;
            this._emit("scroll", { data: this._scrollTop });
        }
        this.skipEvent = false;
    }
    get width() {
        return this.isVisible ? this._width : 0;
    }
    setHeight(height) {
        this.element.style.height = height + "px";
    }
    setInnerHeight(height) {
        this.inner.style.height = height + "px";
    }
    setScrollHeight(height) {
        this.inner.style.height = height + "px";
    }
    setScrollTop(scrollTop) {
        if (this._scrollTop != scrollTop) {
            this.skipEvent = true;
            this._scrollTop = this.element.scrollTop = scrollTop;
        }
    }
    get scrollTop() {
        return this._scrollTop;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVlNjcm9sbEJhci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9WU2Nyb2xsQmFyLnRzIl0sIm5hbWVzIjpbIlZTY3JvbGxCYXIiLCJWU2Nyb2xsQmFyLmNvbnN0cnVjdG9yIiwiVlNjcm9sbEJhci5vblNjcm9sbCIsIlZTY3JvbGxCYXIud2lkdGgiLCJWU2Nyb2xsQmFyLnNldEhlaWdodCIsIlZTY3JvbGxCYXIuc2V0SW5uZXJIZWlnaHQiLCJWU2Nyb2xsQmFyLnNldFNjcm9sbEhlaWdodCIsIlZTY3JvbGxCYXIuc2V0U2Nyb2xsVG9wIiwiVlNjcm9sbEJhci5zY3JvbGxUb3AiXSwibWFwcGluZ3MiOiJPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYTtPQUNsQyxTQUFTLE1BQU0sYUFBYTtPQUM1QixFQUFFLGNBQWMsRUFBRSxNQUFNLFdBQVc7QUFPMUMsd0NBQXdDLFNBQVM7SUFXN0NBLFlBQVlBLE1BQW1CQSxFQUFFQSxRQUF5QkE7UUFDdERDLE1BQU1BLE1BQU1BLEVBQUVBLElBQUlBLENBQUNBLENBQUNBO1FBVmhCQSxlQUFVQSxHQUFHQSxDQUFDQSxDQUFDQTtRQWdCbkJBLFFBQVFBLENBQUNBLGVBQWVBLEdBQUdBLElBQUlBLENBQUNBLE1BQU1BLEdBQUdBLGNBQWNBLENBQUNBLE1BQU1BLENBQUNBLGFBQWFBLENBQUNBLENBQUNBO1FBQzlFQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxLQUFLQSxDQUFDQSxLQUFLQSxHQUFHQSxJQUFJQSxDQUFDQSxPQUFPQSxDQUFDQSxLQUFLQSxDQUFDQSxLQUFLQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxJQUFJQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUNuRkEsV0FBV0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsT0FBT0EsRUFBRUEsUUFBUUEsRUFBRUEsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDbEVBLENBQUNBO0lBT0RELFFBQVFBO1FBQ0pFLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLENBQUNBLENBQUNBO1lBQ2xCQSxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxJQUFJQSxDQUFDQSxPQUFPQSxDQUFDQSxTQUFTQSxDQUFDQTtZQUN6Q0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsUUFBUUEsRUFBRUEsRUFBRUEsSUFBSUEsRUFBRUEsSUFBSUEsQ0FBQ0EsVUFBVUEsRUFBRUEsQ0FBQ0EsQ0FBQ0E7UUFDcERBLENBQUNBO1FBQ0RBLElBQUlBLENBQUNBLFNBQVNBLEdBQUdBLEtBQUtBLENBQUNBO0lBQzNCQSxDQUFDQTtJQU1ERixJQUFJQSxLQUFLQTtRQUNMRyxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxHQUFHQSxJQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxDQUFDQSxDQUFDQTtJQUM1Q0EsQ0FBQ0E7SUFNREgsU0FBU0EsQ0FBQ0EsTUFBY0E7UUFDcEJJLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLEtBQUtBLENBQUNBLE1BQU1BLEdBQUdBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBO0lBQzlDQSxDQUFDQTtJQU9ESixjQUFjQSxDQUFDQSxNQUFjQTtRQUN6QkssSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsTUFBTUEsR0FBR0EsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0E7SUFDNUNBLENBQUNBO0lBTURMLGVBQWVBLENBQUNBLE1BQWNBO1FBQzFCTSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxLQUFLQSxDQUFDQSxNQUFNQSxHQUFHQSxNQUFNQSxHQUFHQSxJQUFJQSxDQUFDQTtJQUM1Q0EsQ0FBQ0E7SUFRRE4sWUFBWUEsQ0FBQ0EsU0FBaUJBO1FBQzFCTyxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFVQSxJQUFJQSxTQUFTQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUMvQkEsSUFBSUEsQ0FBQ0EsU0FBU0EsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDdEJBLElBQUlBLENBQUNBLFVBQVVBLEdBQUdBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLFNBQVNBLEdBQUdBLFNBQVNBLENBQUNBO1FBQ3pEQSxDQUFDQTtJQUNMQSxDQUFDQTtJQUVEUCxJQUFJQSxTQUFTQTtRQUNUUSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQTtJQUMzQkEsQ0FBQ0E7QUFDTFIsQ0FBQ0E7QUFBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZExpc3RlbmVyIH0gZnJvbSBcIi4vbGliL2V2ZW50XCI7XG5pbXBvcnQgU2Nyb2xsQmFyIGZyb20gJy4vU2Nyb2xsQmFyJztcbmltcG9ydCB7IHNjcm9sbGJhcldpZHRoIH0gZnJvbSBcIi4vbGliL2RvbVwiO1xuaW1wb3J0IFZpcnR1YWxSZW5kZXJlciBmcm9tIFwiLi9WaXJ0dWFsUmVuZGVyZXJcIjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgdmVydGljYWwgc2Nyb2xsIGJhci5cbiAqIEBjbGFzcyBWU2Nyb2xsQmFyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZTY3JvbGxCYXIgZXh0ZW5kcyBTY3JvbGxCYXIge1xuXG4gICAgcHJpdmF0ZSBfc2Nyb2xsVG9wID0gMDtcbiAgICBwcml2YXRlIF93aWR0aDogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYFZTY3JvbGxCYXJgLiBgcGFyZW50YCBpcyB0aGUgb3duZXIgb2YgdGhlIHNjcm9sbCBiYXIuXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnQgQSBET00gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZW5kZXJlciBBbiBlZGl0b3IgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogSFRNTEVsZW1lbnQsIHJlbmRlcmVyOiBWaXJ0dWFsUmVuZGVyZXIpIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCAnLXYnKTtcbiAgICAgICAgLy8gaW4gT1NYIGxpb24gdGhlIHNjcm9sbGJhcnMgYXBwZWFyIHRvIGhhdmUgbm8gd2lkdGguIEluIHRoaXMgY2FzZSByZXNpemUgdGhlXG4gICAgICAgIC8vIGVsZW1lbnQgdG8gc2hvdyB0aGUgc2Nyb2xsYmFyIGJ1dCBzdGlsbCBwcmV0ZW5kIHRoYXQgdGhlIHNjcm9sbGJhciBoYXMgYSB3aWR0aFxuICAgICAgICAvLyBvZiAwcHhcbiAgICAgICAgLy8gaW4gRmlyZWZveCA2KyBzY3JvbGxiYXIgaXMgaGlkZGVuIGlmIGVsZW1lbnQgaGFzIHRoZSBzYW1lIHdpZHRoIGFzIHNjcm9sbGJhclxuICAgICAgICAvLyBtYWtlIGVsZW1lbnQgYSBsaXR0bGUgYml0IHdpZGVyIHRvIHJldGFpbiBzY3JvbGxiYXIgd2hlbiBwYWdlIGlzIHpvb21lZCBcbiAgICAgICAgcmVuZGVyZXIuJHNjcm9sbGJhcldpZHRoID0gdGhpcy5fd2lkdGggPSBzY3JvbGxiYXJXaWR0aChwYXJlbnQub3duZXJEb2N1bWVudCk7XG4gICAgICAgIHRoaXMuaW5uZXIuc3R5bGUud2lkdGggPSB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSAodGhpcy5fd2lkdGggfHwgMTUpICsgNSArIFwicHhcIjtcbiAgICAgICAgYWRkTGlzdGVuZXIodGhpcy5lbGVtZW50LCBcInNjcm9sbFwiLCB0aGlzLm9uU2Nyb2xsLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVtaXR0ZWQgd2hlbiB0aGUgc2Nyb2xsIGJhciwgd2VsbCwgc2Nyb2xscy5cbiAgICAgKiBAZXZlbnQgc2Nyb2xsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGUgQ29udGFpbnMgb25lIHByb3BlcnR5LCBgXCJkYXRhXCJgLCB3aGljaCBpbmRpY2F0ZXMgdGhlIGN1cnJlbnQgc2Nyb2xsIHRvcCBwb3NpdGlvblxuICAgICAqKi9cbiAgICBvblNjcm9sbCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNraXBFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsVG9wID0gdGhpcy5lbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoXCJzY3JvbGxcIiwgeyBkYXRhOiB0aGlzLl9zY3JvbGxUb3AgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5za2lwRXZlbnQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB3aWR0aCBvZiB0aGUgc2Nyb2xsIGJhci5cbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqKi9cbiAgICBnZXQgd2lkdGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWaXNpYmxlID8gdGhpcy5fd2lkdGggOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhlaWdodCBvZiB0aGUgc2Nyb2xsIGJhciwgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgVGhlIG5ldyBoZWlnaHRcbiAgICAgKiovXG4gICAgc2V0SGVpZ2h0KGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaW5uZXIgaGVpZ2h0IG9mIHRoZSBzY3JvbGwgYmFyLCBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCBUaGUgbmV3IGlubmVyIGhlaWdodFxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBzZXRTY3JvbGxIZWlnaHQgaW5zdGVhZFxuICAgICAqKi9cbiAgICBzZXRJbm5lckhlaWdodChoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmlubmVyLnN0eWxlLmhlaWdodCA9IGhlaWdodCArIFwicHhcIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzY3JvbGwgaGVpZ2h0IG9mIHRoZSBzY3JvbGwgYmFyLCBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCBUaGUgbmV3IHNjcm9sbCBoZWlnaHRcbiAgICAgKiovXG4gICAgc2V0U2Nyb2xsSGVpZ2h0KGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaW5uZXIuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHNjcm9sbCB0b3Agb2YgdGhlIHNjcm9sbCBiYXIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjcm9sbFRvcCBUaGUgbmV3IHNjcm9sbCB0b3BcbiAgICAgKiovXG4gICAgLy8gb24gY2hyb21lIDE3KyBmb3Igc21hbGwgem9vbSBsZXZlbHMgYWZ0ZXIgY2FsbGluZyB0aGlzIGZ1bmN0aW9uXG4gICAgLy8gdGhpcy5lbGVtZW50LnNjcm9sbFRvcCAhPSBzY3JvbGxUb3Agd2hpY2ggbWFrZXMgcGFnZSB0byBzY3JvbGwgdXAuXG4gICAgc2V0U2Nyb2xsVG9wKHNjcm9sbFRvcDogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9zY3JvbGxUb3AgIT0gc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICB0aGlzLnNraXBFdmVudCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxUb3AgPSB0aGlzLmVsZW1lbnQuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHNjcm9sbFRvcCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsVG9wO1xuICAgIH1cbn1cbiJdfQ==