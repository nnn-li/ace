var dom = require("./lib/dom");
var Tooltip = (function () {
    function Tooltip(parentElement) {
        this.isOpen = false;
        this.$element = null;
        this.$parentElement = parentElement;
    }
    Tooltip.prototype.$init = function () {
        this.$element = dom.createElement('div');
        this.$element.className = "ace_tooltip";
        this.$element.style.display = "none";
        this.$parentElement.appendChild(this.$element);
        return this.$element;
    };
    Tooltip.prototype.getElement = function () {
        return this.$element || this.$init();
    };
    Tooltip.prototype.setText = function (text) {
        dom.setInnerText(this.getElement(), text);
    };
    Tooltip.prototype.setHtml = function (html) {
        this.getElement().innerHTML = html;
    };
    Tooltip.prototype.setPosition = function (left, top) {
        var style = this.getElement().style;
        style.left = left + "px";
        style.top = top + "px";
    };
    Tooltip.prototype.setClassName = function (className) {
        dom.addCssClass(this.getElement(), className);
    };
    Tooltip.prototype.show = function (text, left, top) {
        if (typeof text === 'string') {
            this.setText(text);
        }
        if ((typeof left === 'number') && (typeof top === 'number')) {
            this.setPosition(left, top);
        }
        if (!this.isOpen) {
            this.getElement().style.display = 'block';
            this.isOpen = true;
        }
    };
    Tooltip.prototype.hide = function () {
        if (this.isOpen) {
            this.getElement().style.display = 'none';
            this.isOpen = false;
        }
    };
    Tooltip.prototype.getHeight = function () {
        return this.getElement().offsetHeight;
    };
    Tooltip.prototype.getWidth = function () {
        return this.getElement().offsetWidth;
    };
    return Tooltip;
})();
exports.Tooltip = Tooltip;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9vbHRpcC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy90b29sdGlwLnRzIl0sIm5hbWVzIjpbIlRvb2x0aXAiLCJUb29sdGlwLmNvbnN0cnVjdG9yIiwiVG9vbHRpcC4kaW5pdCIsIlRvb2x0aXAuZ2V0RWxlbWVudCIsIlRvb2x0aXAuc2V0VGV4dCIsIlRvb2x0aXAuc2V0SHRtbCIsIlRvb2x0aXAuc2V0UG9zaXRpb24iLCJUb29sdGlwLnNldENsYXNzTmFtZSIsIlRvb2x0aXAuc2hvdyIsIlRvb2x0aXAuaGlkZSIsIlRvb2x0aXAuZ2V0SGVpZ2h0IiwiVG9vbHRpcC5nZXRXaWR0aCJdLCJtYXBwaW5ncyI6IkFBOEJBLElBQU8sR0FBRyxXQUFXLFdBQVcsQ0FBQyxDQUFDO0FBS2xDO0lBY0lBLGlCQUFZQSxhQUEwQkE7UUFDbENDLElBQUlBLENBQUNBLE1BQU1BLEdBQUdBLEtBQUtBLENBQUNBO1FBQ3BCQSxJQUFJQSxDQUFDQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUNyQkEsSUFBSUEsQ0FBQ0EsY0FBY0EsR0FBR0EsYUFBYUEsQ0FBQ0E7SUFDeENBLENBQUNBO0lBU09ELHVCQUFLQSxHQUFiQTtRQUNJRSxJQUFJQSxDQUFDQSxRQUFRQSxHQUFnQkEsR0FBR0EsQ0FBQ0EsYUFBYUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0E7UUFDdERBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLFNBQVNBLEdBQUdBLGFBQWFBLENBQUNBO1FBQ3hDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxLQUFLQSxDQUFDQSxPQUFPQSxHQUFHQSxNQUFNQSxDQUFDQTtRQUNyQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsV0FBV0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7UUFDL0NBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBO0lBQ3pCQSxDQUFDQTtJQU9ERiw0QkFBVUEsR0FBVkE7UUFDSUcsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsSUFBSUEsSUFBSUEsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7SUFDekNBLENBQUNBO0lBUURILHlCQUFPQSxHQUFQQSxVQUFRQSxJQUFZQTtRQUNoQkksR0FBR0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsRUFBRUEsRUFBRUEsSUFBSUEsQ0FBQ0EsQ0FBQ0E7SUFDOUNBLENBQUNBO0lBUURKLHlCQUFPQSxHQUFQQSxVQUFRQSxJQUFZQTtRQUNoQkssSUFBSUEsQ0FBQ0EsVUFBVUEsRUFBRUEsQ0FBQ0EsU0FBU0EsR0FBR0EsSUFBSUEsQ0FBQ0E7SUFDdkNBLENBQUNBO0lBU0RMLDZCQUFXQSxHQUFYQSxVQUFZQSxJQUFZQSxFQUFFQSxHQUFXQTtRQUNqQ00sSUFBSUEsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0EsVUFBVUEsRUFBRUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7UUFDcENBLEtBQUtBLENBQUNBLElBQUlBLEdBQUdBLElBQUlBLEdBQUdBLElBQUlBLENBQUNBO1FBQ3pCQSxLQUFLQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFHQSxJQUFJQSxDQUFDQTtJQUMzQkEsQ0FBQ0E7SUFRRE4sOEJBQVlBLEdBQVpBLFVBQWFBLFNBQWlCQTtRQUMxQk8sR0FBR0EsQ0FBQ0EsV0FBV0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsRUFBRUEsRUFBRUEsU0FBU0EsQ0FBQ0EsQ0FBQ0E7SUFDbERBLENBQUNBO0lBYURQLHNCQUFJQSxHQUFKQSxVQUFLQSxJQUFhQSxFQUFFQSxJQUFhQSxFQUFFQSxHQUFZQTtRQUMzQ1EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsT0FBT0EsSUFBSUEsS0FBS0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDM0JBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBQ3ZCQSxDQUFDQTtRQUNEQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxPQUFPQSxJQUFJQSxLQUFLQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxPQUFPQSxHQUFHQSxLQUFLQSxRQUFRQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUMxREEsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsSUFBSUEsRUFBRUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDaENBLENBQUNBO1FBQ0RBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO1lBQ2ZBLElBQUlBLENBQUNBLFVBQVVBLEVBQUVBLENBQUNBLEtBQUtBLENBQUNBLE9BQU9BLEdBQUdBLE9BQU9BLENBQUNBO1lBQzFDQSxJQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUN2QkEsQ0FBQ0E7SUFDTEEsQ0FBQ0E7SUFPRFIsc0JBQUlBLEdBQUpBO1FBQ0lTLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO1lBQ2RBLElBQUlBLENBQUNBLFVBQVVBLEVBQUVBLENBQUNBLEtBQUtBLENBQUNBLE9BQU9BLEdBQUdBLE1BQU1BLENBQUNBO1lBQ3pDQSxJQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxLQUFLQSxDQUFDQTtRQUN4QkEsQ0FBQ0E7SUFDTEEsQ0FBQ0E7SUFPRFQsMkJBQVNBLEdBQVRBO1FBQ0lVLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLEVBQUVBLENBQUNBLFlBQVlBLENBQUNBO0lBQzFDQSxDQUFDQTtJQU9EViwwQkFBUUEsR0FBUkE7UUFDSVcsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsRUFBRUEsQ0FBQ0EsV0FBV0EsQ0FBQ0E7SUFDekNBLENBQUNBO0lBQ0xYLGNBQUNBO0FBQURBLENBQUNBLEFBNUlELElBNElDO0FBNUlZLGVBQU8sVUE0SW5CLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqXG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIGxpY2Vuc2U6XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEwLCBBamF4Lm9yZyBCLlYuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogICAgICogTmVpdGhlciB0aGUgbmFtZSBvZiBBamF4Lm9yZyBCLlYuIG5vciB0aGVcbiAqICAgICAgIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzXG4gKiAgICAgICBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqIFxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EXG4gKiBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRVxuICogRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgQUpBWC5PUkcgQi5WLiBCRSBMSUFCTEUgRk9SIEFOWVxuICogRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVNcbiAqIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUztcbiAqIExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORFxuICogT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbiAqIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqXG4gKiAqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKiAqL1xuaW1wb3J0IG9vcCA9IHJlcXVpcmUoXCIuL2xpYi9vb3BcIik7XG5pbXBvcnQgZG9tID0gcmVxdWlyZShcIi4vbGliL2RvbVwiKTtcblxuLyoqXG4gKiBAY2xhc3MgVG9vbHRpcFxuICovXG5leHBvcnQgY2xhc3MgVG9vbHRpcCB7XG4gICAgLyoqXG4gICAgICogQHByb3BlcnR5IGlzT3BlblxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZ1YWx0IGZhbHNlXG4gICAgICovXG4gICAgcHJpdmF0ZSBpc09wZW46IGJvb2xlYW47XG4gICAgcHJpdmF0ZSAkZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSAkcGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgLyoqXG4gICAgICogQGNsYXNzIFRvb2x0aXBcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gcGFyZW50RWxlbWVudCB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IocGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy4kZWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuJHBhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgaW50ZXJuYWwgbWV0aG9kIGlzIGNhbGxlZCAobGF6aWx5KSBvbmNlIHRocm91Z2ggdGhlIGBnZXRFbGVtZW50YCBtZXRob2QuXG4gICAgICogSXQgY3JlYXRlcyB0aGUgJGVsZW1lbnQgbWVtYmVyLlxuICAgICAqIEBtZXRob2QgJGluaXRcbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgJGluaXQoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICB0aGlzLiRlbGVtZW50ID0gPEhUTUxFbGVtZW50PmRvbS5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5jbGFzc05hbWUgPSBcImFjZV90b29sdGlwXCI7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB0aGlzLiRwYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuJGVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyB0aGUgSFRNTCBkaXYgZWxlbWVudC5cbiAgICAgKiBAbWV0aG9kIGdldEVsZW1lbnRcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAgICovXG4gICAgZ2V0RWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLiRlbGVtZW50IHx8IHRoaXMuJGluaXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2UgdGhlIGRvbSBtZXRob2QgYHNldElubmVyVGV4dGBcbiAgICAgKiBAbWV0aG9kIHNldFRleHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgc2V0VGV4dCh0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgZG9tLnNldElubmVyVGV4dCh0aGlzLmdldEVsZW1lbnQoKSwgdGV4dCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYGlubmVySFRNTGAgcHJvcGVydHkgb24gdGhlIGRpdiBlbGVtZW50LlxuICAgICAqIEBtZXRob2Qgc2V0SHRtbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBzZXRIdG1sKGh0bWw6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLmdldEVsZW1lbnQoKS5pbm5lckhUTUwgPSBodG1sO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGBsZWZ0YCBhbmQgYHRvcGAgQ1NTIHN0eWxlIHByb3BlcnRpZXMuXG4gICAgICogVGhpcyBhY3Rpb24gY2FuIGFsc28gaGFwcGVuIGR1cmluZyB0aGUgYHNob3dgIG1ldGhvZC5cbiAgICAgKiBAbWV0aG9kIHNldFBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgVGhlIHN0eWxlICdsZWZ0JyB2YWx1ZSBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUaGUgc3R5bGUgJ3RvcCcgdmFsdWUgaW4gcGl4ZWxzLlxuICAgICAqL1xuICAgIHNldFBvc2l0aW9uKGxlZnQ6IG51bWJlciwgdG9wOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5nZXRFbGVtZW50KCkuc3R5bGU7XG4gICAgICAgIHN0eWxlLmxlZnQgPSBsZWZ0ICsgXCJweFwiO1xuICAgICAgICBzdHlsZS50b3AgPSB0b3AgKyBcInB4XCI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIENTUyBjbGFzcyB0byB0aGUgdW5kZXJseWluZyB0b29sdGlwIGRpdiBlbGVtZW50IHVzaW5nIHRoZSBkb20gbWV0aG9kIGBhZGRDc3NDbGFzc2BcbiAgICAgKiBAbWV0aG9kIHNldENsYXNzTmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHNldENsYXNzTmFtZShjbGFzc05hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBkb20uYWRkQ3NzQ2xhc3ModGhpcy5nZXRFbGVtZW50KCksIGNsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvd3MgdGhlIHRvb2wgYnkgc2V0dGluZyB0aGUgQ1NTIGRpc3BsYXkgcHJvcGVydHkgdG8gJ2Jsb2NrJy5cbiAgICAgKiBUaGUgdGV4dCBwYXJhbWV0ZXIgaXMgb3B0aW9uYWwsIGJ1dCBpZiBwcm92aWRlZCBzZXRzIEhUTUwuXG4gICAgICogRklYTUU6IFJlbW92ZSB0aGUgdGV4dCBwYXJhbWV0ZXIgaW4gZmF2b3Igb2YgZXhwbGljaXQgcHJlLXNldHRpbmcuXG4gICAgICogRklYTUU6IFJlbW92ZSBsZWZ0IGFuZCB0b3AgdG9vLlxuICAgICAqIEBtZXRob2Qgc2hvd1xuICAgICAqIEBwYXJhbSBbc3RyaW5nXSB0ZXh0XG4gICAgICogQHBhcmFtIFtudW1iZXJdIGxlZnRcbiAgICAgKiBAcGFyYW0gW251bWJlcl0gdG9wXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBzaG93KHRleHQ/OiBzdHJpbmcsIGxlZnQ/OiBudW1iZXIsIHRvcD86IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodHlwZW9mIHRleHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnNldFRleHQodGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2YgbGVmdCA9PT0gJ251bWJlcicpICYmICh0eXBlb2YgdG9wID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24obGVmdCwgdG9wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLmdldEVsZW1lbnQoKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZGVzIHRoZSB0b29sIGJ5IHNldHRpbmcgdGhlIENTUyBkaXNwbGF5IHByb3BlcnR5IHRvICdub25lJy5cbiAgICAgKiBAbWV0aG9kIGhpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGhpZGUoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgdGhpcy5nZXRFbGVtZW50KCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBgb2Zmc2V0SGVpZ2h0YCBwcm9wZXJ0eSBvZiB0aGUgZGl2IGVsZW1lbnQuXG4gICAgICogQG1ldGhvZCBnZXRIZWlnaHRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnQoKS5vZmZzZXRIZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYG9mZnNldFdpZHRoYCBwcm9wZXJ0eSBvZiB0aGUgZGl2IGVsZW1lbnQuXG4gICAgICogQG1ldGhvZCBnZXRXaWR0aFxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXRXaWR0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRFbGVtZW50KCkub2Zmc2V0V2lkdGg7XG4gICAgfVxufVxuIl19