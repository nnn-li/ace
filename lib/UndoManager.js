export default class UndoManager {
    constructor() {
        this.reset();
    }
    execute(options) {
        var deltas = options.args[0];
        this._editSession = options.args[1];
        if (options.merge && this.hasUndo()) {
            this._dirtyCounter--;
            deltas = this.$undoStack.pop().concat(deltas);
        }
        this.$undoStack.push(deltas);
        this.$redoStack = [];
        if (this._dirtyCounter < 0) {
            this._dirtyCounter = NaN;
        }
        this._dirtyCounter++;
    }
    undo(dontSelect) {
        var deltas = this.$undoStack.pop();
        var undoSelectionRange = null;
        if (deltas) {
            undoSelectionRange = this._editSession.undoChanges(deltas, dontSelect);
            this.$redoStack.push(deltas);
            this._dirtyCounter--;
        }
        return undoSelectionRange;
    }
    redo(dontSelect) {
        var deltas = this.$redoStack.pop();
        var redoSelectionRange = null;
        if (deltas) {
            redoSelectionRange = this._editSession.redoChanges(deltas, dontSelect);
            this.$undoStack.push(deltas);
            this._dirtyCounter++;
        }
        return redoSelectionRange;
    }
    reset() {
        this.$undoStack = [];
        this.$redoStack = [];
        this.markClean();
    }
    hasUndo() {
        return this.$undoStack.length > 0;
    }
    hasRedo() {
        return this.$redoStack.length > 0;
    }
    markClean() {
        this._dirtyCounter = 0;
    }
    isClean() {
        return this._dirtyCounter === 0;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVW5kb01hbmFnZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvVW5kb01hbmFnZXIudHMiXSwibmFtZXMiOlsiVW5kb01hbmFnZXIiLCJVbmRvTWFuYWdlci5jb25zdHJ1Y3RvciIsIlVuZG9NYW5hZ2VyLmV4ZWN1dGUiLCJVbmRvTWFuYWdlci51bmRvIiwiVW5kb01hbmFnZXIucmVkbyIsIlVuZG9NYW5hZ2VyLnJlc2V0IiwiVW5kb01hbmFnZXIuaGFzVW5kbyIsIlVuZG9NYW5hZ2VyLmhhc1JlZG8iLCJVbmRvTWFuYWdlci5tYXJrQ2xlYW4iLCJVbmRvTWFuYWdlci5pc0NsZWFuIl0sIm1hcHBpbmdzIjoiQUFxQ0E7SUEwQklBO1FBQ0lDLElBQUlBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO0lBQ2pCQSxDQUFDQTtJQVdERCxPQUFPQSxDQUFDQSxPQUF5REE7UUFDN0RFLElBQUlBLE1BQU1BLEdBQUdBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1FBQzdCQSxJQUFJQSxDQUFDQSxZQUFZQSxHQUFHQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNwQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsS0FBS0EsSUFBSUEsSUFBSUEsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDbENBLElBQUlBLENBQUNBLGFBQWFBLEVBQUVBLENBQUNBO1lBQ3JCQSxNQUFNQSxHQUFHQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxHQUFHQSxFQUFFQSxDQUFDQSxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtRQUNsREEsQ0FBQ0E7UUFDREEsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0E7UUFDN0JBLElBQUlBLENBQUNBLFVBQVVBLEdBQUdBLEVBQUVBLENBQUNBO1FBRXJCQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxhQUFhQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUd6QkEsSUFBSUEsQ0FBQ0EsYUFBYUEsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDN0JBLENBQUNBO1FBQ0RBLElBQUlBLENBQUNBLGFBQWFBLEVBQUVBLENBQUNBO0lBQ3pCQSxDQUFDQTtJQVNERixJQUFJQSxDQUFDQSxVQUFvQkE7UUFDckJHLElBQUlBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBO1FBQ25DQSxJQUFJQSxrQkFBa0JBLEdBQVVBLElBQUlBLENBQUNBO1FBQ3JDQSxFQUFFQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNUQSxrQkFBa0JBLEdBQUdBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLFdBQVdBLENBQUNBLE1BQU1BLEVBQUVBLFVBQVVBLENBQUNBLENBQUNBO1lBQ3ZFQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtZQUM3QkEsSUFBSUEsQ0FBQ0EsYUFBYUEsRUFBRUEsQ0FBQ0E7UUFDekJBLENBQUNBO1FBQ0RBLE1BQU1BLENBQUNBLGtCQUFrQkEsQ0FBQ0E7SUFDOUJBLENBQUNBO0lBUURILElBQUlBLENBQUNBLFVBQW9CQTtRQUNyQkksSUFBSUEsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0E7UUFDbkNBLElBQUlBLGtCQUFrQkEsR0FBVUEsSUFBSUEsQ0FBQ0E7UUFDckNBLEVBQUVBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO1lBQ1RBLGtCQUFrQkEsR0FBR0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsTUFBTUEsRUFBRUEsVUFBVUEsQ0FBQ0EsQ0FBQ0E7WUFDdkVBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO1lBQzdCQSxJQUFJQSxDQUFDQSxhQUFhQSxFQUFFQSxDQUFDQTtRQUN6QkEsQ0FBQ0E7UUFDREEsTUFBTUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQTtJQUM5QkEsQ0FBQ0E7SUFRREosS0FBS0E7UUFDREssSUFBSUEsQ0FBQ0EsVUFBVUEsR0FBR0EsRUFBRUEsQ0FBQ0E7UUFDckJBLElBQUlBLENBQUNBLFVBQVVBLEdBQUdBLEVBQUVBLENBQUNBO1FBQ3JCQSxJQUFJQSxDQUFDQSxTQUFTQSxFQUFFQSxDQUFDQTtJQUNyQkEsQ0FBQ0E7SUFRREwsT0FBT0E7UUFDSE0sTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsTUFBTUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7SUFDdENBLENBQUNBO0lBUUROLE9BQU9BO1FBQ0hPLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLE1BQU1BLEdBQUdBLENBQUNBLENBQUNBO0lBQ3RDQSxDQUFDQTtJQVFEUCxTQUFTQTtRQUNMUSxJQUFJQSxDQUFDQSxhQUFhQSxHQUFHQSxDQUFDQSxDQUFDQTtJQUMzQkEsQ0FBQ0E7SUFRRFIsT0FBT0E7UUFDSFMsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsYUFBYUEsS0FBS0EsQ0FBQ0EsQ0FBQ0E7SUFDcENBLENBQUNBO0FBQ0xULENBQUNBO0FBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqXG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIGxpY2Vuc2U6XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEwLCBBamF4Lm9yZyBCLlYuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogICAgICogTmVpdGhlciB0aGUgbmFtZSBvZiBBamF4Lm9yZyBCLlYuIG5vciB0aGVcbiAqICAgICAgIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzXG4gKiAgICAgICBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqIFxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EXG4gKiBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRVxuICogRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgQUpBWC5PUkcgQi5WLiBCRSBMSUFCTEUgRk9SIEFOWVxuICogRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVNcbiAqIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUztcbiAqIExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORFxuICogT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbiAqIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqXG4gKiAqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKiAqL1xuaW1wb3J0IEVkaXRTZXNzaW9uIGZyb20gJy4vRWRpdFNlc3Npb24nO1xuaW1wb3J0IFJhbmdlIGZyb20gJy4vUmFuZ2UnO1xuXG4vKipcbiAqIFRoaXMgb2JqZWN0IG1haW50YWlucyB0aGUgdW5kbyBzdGFjayBmb3IgYW4gPGNvZGU+RWRpdFNlc3Npb248L2NvZGU+LlxuICpcbiAqIEBjbGFzcyBVbmRvTWFuYWdlclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVbmRvTWFuYWdlciB7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkgX2VkaXRTZXNzaW9uXG4gICAgICogQHR5cGUgRWRpdFNlc3Npb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgX2VkaXRTZXNzaW9uOiBFZGl0U2Vzc2lvbjtcblxuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSBfZGlydHlDb3VudGVyXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIF9kaXJ0eUNvdW50ZXI6IG51bWJlcjtcblxuICAgIC8vIEZJWE1FOiB0eXBlIGFuZCBkb2N1bWVudGF0aW9uLlxuICAgIHByaXZhdGUgJHVuZG9TdGFjazogYW55W107XG4gICAgcHJpdmF0ZSAkcmVkb1N0YWNrOiBhbnlbXTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgY3VycmVudCB1bmRvIHN0YXRlLlxuICAgICAqXG4gICAgICogQGNsYXNzIFVuZG9NYW5hZ2VyXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhIG1lYW5zIGZvciBpbXBsZW1lbnRpbmcgeW91ciBvd24gdW5kbyBtYW5hZ2VyLiBgb3B0aW9uc2AgaGFzIG9uZSBwcm9wZXJ0eSwgYGFyZ3NgLCBhbiBbW0FycmF5IGBBcnJheWBdXSwgd2l0aCB0d28gZWxlbWVudHM6XG4gICAgICpcbiAgICAgKiAtIGBhcmdzWzBdYCBpcyBhbiBhcnJheSBvZiBkZWx0YXNcbiAgICAgKiAtIGBhcmdzWzFdYCBpcyB0aGUgZG9jdW1lbnQgdG8gYXNzb2NpYXRlIHdpdGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIENvbnRhaW5zIGFkZGl0aW9uYWwgcHJvcGVydGllc1xuICAgICAqXG4gICAgICoqL1xuICAgIGV4ZWN1dGUob3B0aW9uczogeyBhY3Rpb24/OiBzdHJpbmc7IGFyZ3M6IGFueVtdOyBtZXJnZTogYm9vbGVhbiB9KTogdm9pZCB7XG4gICAgICAgIHZhciBkZWx0YXMgPSBvcHRpb25zLmFyZ3NbMF07XG4gICAgICAgIHRoaXMuX2VkaXRTZXNzaW9uID0gb3B0aW9ucy5hcmdzWzFdO1xuICAgICAgICBpZiAob3B0aW9ucy5tZXJnZSAmJiB0aGlzLmhhc1VuZG8oKSkge1xuICAgICAgICAgICAgdGhpcy5fZGlydHlDb3VudGVyLS07XG4gICAgICAgICAgICBkZWx0YXMgPSB0aGlzLiR1bmRvU3RhY2sucG9wKCkuY29uY2F0KGRlbHRhcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kdW5kb1N0YWNrLnB1c2goZGVsdGFzKTtcbiAgICAgICAgdGhpcy4kcmVkb1N0YWNrID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuX2RpcnR5Q291bnRlciA8IDApIHtcbiAgICAgICAgICAgIC8vIFRoZSB1c2VyIGhhcyBtYWRlIGEgY2hhbmdlIGFmdGVyIHVuZG9pbmcgcGFzdCB0aGUgbGFzdCBjbGVhbiBzdGF0ZS5cbiAgICAgICAgICAgIC8vIFdlIGNhbiBuZXZlciBnZXQgYmFjayB0byBhIGNsZWFuIHN0YXRlIG5vdyB1bnRpbCBtYXJrQ2xlYW4oKSBpcyBjYWxsZWQuXG4gICAgICAgICAgICB0aGlzLl9kaXJ0eUNvdW50ZXIgPSBOYU47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGlydHlDb3VudGVyKys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhbiB1bmRvIG9wZXJhdGlvbiBvbiB0aGUgZG9jdW1lbnQsIHJldmVydGluZyB0aGUgbGFzdCBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHVuZG9cbiAgICAgKiBAcGFyYW0gW2RvbnRTZWxlY3RdIHtib29sZWFufVxuICAgICAqIEByZXR1cm4ge1JhbmdlfSBUaGUgcmFuZ2Ugb2YgdGhlIHVuZG8uXG4gICAgICovXG4gICAgdW5kbyhkb250U2VsZWN0PzogYm9vbGVhbik6IFJhbmdlIHtcbiAgICAgICAgdmFyIGRlbHRhcyA9IHRoaXMuJHVuZG9TdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIHVuZG9TZWxlY3Rpb25SYW5nZTogUmFuZ2UgPSBudWxsO1xuICAgICAgICBpZiAoZGVsdGFzKSB7XG4gICAgICAgICAgICB1bmRvU2VsZWN0aW9uUmFuZ2UgPSB0aGlzLl9lZGl0U2Vzc2lvbi51bmRvQ2hhbmdlcyhkZWx0YXMsIGRvbnRTZWxlY3QpO1xuICAgICAgICAgICAgdGhpcy4kcmVkb1N0YWNrLnB1c2goZGVsdGFzKTtcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5Q291bnRlci0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRvU2VsZWN0aW9uUmFuZ2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhIHJlZG8gb3BlcmF0aW9uIG9uIHRoZSBkb2N1bWVudCwgcmVpbXBsZW1lbnRpbmcgdGhlIGxhc3QgY2hhbmdlLlxuICAgICAqIEBtZXRob2QgcmVkb1xuICAgICAqIEBwYXJhbSBbZG9udFNlbGVjdF0ge2Jvb2xlYW59XG4gICAgICogQHJldHVybiB7UmFuZ2V9IFRoZSByYW5nZSBvZiB0aGUgcmVkby5cbiAgICAgKi9cbiAgICByZWRvKGRvbnRTZWxlY3Q/OiBib29sZWFuKTogUmFuZ2Uge1xuICAgICAgICB2YXIgZGVsdGFzID0gdGhpcy4kcmVkb1N0YWNrLnBvcCgpO1xuICAgICAgICB2YXIgcmVkb1NlbGVjdGlvblJhbmdlOiBSYW5nZSA9IG51bGw7XG4gICAgICAgIGlmIChkZWx0YXMpIHtcbiAgICAgICAgICAgIHJlZG9TZWxlY3Rpb25SYW5nZSA9IHRoaXMuX2VkaXRTZXNzaW9uLnJlZG9DaGFuZ2VzKGRlbHRhcywgZG9udFNlbGVjdCk7XG4gICAgICAgICAgICB0aGlzLiR1bmRvU3RhY2sucHVzaChkZWx0YXMpO1xuICAgICAgICAgICAgdGhpcy5fZGlydHlDb3VudGVyKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZG9TZWxlY3Rpb25SYW5nZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgc3RhY2sgb2YgdW5kbyBhbmQgcmVkbyByZWRvIG9wZXJhdGlvbnMgYW5kIG1hcmtzIHRoZSBtYW5hZ2VyIGFzIGNsZWFuLlxuICAgICAqXG4gICAgICogQG1ldGhvZCByZXNldFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgcmVzZXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuJHVuZG9TdGFjayA9IFtdO1xuICAgICAgICB0aGlzLiRyZWRvU3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5tYXJrQ2xlYW4oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGVyZSBhcmUgdW5kbyBvcGVyYXRpb25zIGxlZnQgdG8gcGVyZm9ybS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgaGFzVW5kb1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgaGFzVW5kbygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHVuZG9TdGFjay5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoZXJlIGFyZSByZWRvIG9wZXJhdGlvbnMgbGVmdCB0byBwZXJmb3JtLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBoYXNSZWRvXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBoYXNSZWRvKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy4kcmVkb1N0YWNrLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFya3MgdGhlIGN1cnJlbnQgc3RhdHVzIGNsZWFuLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBtYXJrQ2xlYW5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIG1hcmtDbGVhbigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fZGlydHlDb3VudGVyID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGN1cnJlbnQgc3RhdHVzIGlzIGNsZWFuLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBpc0NsZWFuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0NsZWFuKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlydHlDb3VudGVyID09PSAwO1xuICAgIH1cbn1cbiJdfQ==