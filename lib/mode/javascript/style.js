"use strict";
export function register(linter) {
    linter.on("Identifier", function style_scanProto(data) {
        if (linter.getOption("proto")) {
            return;
        }
        if (data.name === "__proto__") {
            linter.warn("W103", {
                line: data.line,
                char: data.char,
                data: [data.name, "6"]
            });
        }
    });
    linter.on("Identifier", function style_scanIterator(data) {
        if (linter.getOption("iterator")) {
            return;
        }
        if (data.name === "__iterator__") {
            linter.warn("W103", {
                line: data.line,
                char: data.char,
                data: [data.name]
            });
        }
    });
    linter.on("Identifier", function style_scanCamelCase(data) {
        if (!linter.getOption("camelcase")) {
            return;
        }
        if (data.name.replace(/^_+|_+$/g, "").indexOf("_") > -1 && !data.name.match(/^[A-Z0-9_]*$/)) {
            linter.warn("W106", {
                line: data.line,
                char: data.from,
                data: [data.name]
            });
        }
    });
    linter.on("String", function style_scanQuotes(data) {
        var quotmark = linter.getOption("quotmark");
        var code;
        if (!quotmark) {
            return;
        }
        if (quotmark === "single" && data.quote !== "'") {
            code = "W109";
        }
        if (quotmark === "double" && data.quote !== "\"") {
            code = "W108";
        }
        if (quotmark === true) {
            if (!linter.getCache("quotmark")) {
                linter.setCache("quotmark", data.quote);
            }
            if (linter.getCache("quotmark") !== data.quote) {
                code = "W110";
            }
        }
        if (code) {
            linter.warn(code, {
                line: data.line,
                char: data.char,
            });
        }
    });
    linter.on("Number", function style_scanNumbers(data) {
        if (data.value.charAt(0) === ".") {
            linter.warn("W008", {
                line: data.line,
                char: data.char,
                data: [data.value]
            });
        }
        if (data.value.substr(data.value.length - 1) === ".") {
            linter.warn("W047", {
                line: data.line,
                char: data.char,
                data: [data.value]
            });
        }
        if (/^00+/.test(data.value)) {
            linter.warn("W046", {
                line: data.line,
                char: data.char,
                data: [data.value]
            });
        }
    });
    linter.on("String", function style_scanJavaScriptURLs(data) {
        var re = /^(?:javascript|jscript|ecmascript|vbscript|livescript)\s*:/i;
        if (linter.getOption("scripturl")) {
            return;
        }
        if (re.test(data.value)) {
            linter.warn("W107", {
                line: data.line,
                char: data.char
            });
        }
    });
}
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbW9kZS9qYXZhc2NyaXB0L3N0eWxlLnRzIl0sIm5hbWVzIjpbInJlZ2lzdGVyIiwicmVnaXN0ZXIuc3R5bGVfc2NhblByb3RvIiwicmVnaXN0ZXIuc3R5bGVfc2Nhbkl0ZXJhdG9yIiwicmVnaXN0ZXIuc3R5bGVfc2NhbkNhbWVsQ2FzZSIsInJlZ2lzdGVyLnN0eWxlX3NjYW5RdW90ZXMiLCJyZWdpc3Rlci5zdHlsZV9zY2FuTnVtYmVycyIsInJlZ2lzdGVyLnN0eWxlX3NjYW5KYXZhU2NyaXB0VVJMcyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDO0FBRWIseUJBQXlCLE1BQU07SUFJN0JBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLFlBQVlBLEVBQUVBLHlCQUF5QkEsSUFBSUE7UUFDbkRDLEVBQUVBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLFNBQVNBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBQzlCQSxNQUFNQSxDQUFDQTtRQUNUQSxDQUFDQTtRQUVEQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxLQUFLQSxXQUFXQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUM5QkEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsRUFBRUE7Z0JBQ2xCQSxJQUFJQSxFQUFFQSxJQUFJQSxDQUFDQSxJQUFJQTtnQkFDZkEsSUFBSUEsRUFBRUEsSUFBSUEsQ0FBQ0EsSUFBSUE7Z0JBQ2ZBLElBQUlBLEVBQUVBLENBQUVBLElBQUlBLENBQUNBLElBQUlBLEVBQUVBLEdBQUdBLENBQUVBO2FBQ3pCQSxDQUFDQSxDQUFDQTtRQUNMQSxDQUFDQTtJQUNIQSxDQUFDQSxDQUFDRCxDQUFDQTtJQU1IQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxZQUFZQSxFQUFFQSw0QkFBNEJBLElBQUlBO1FBQ3RERSxFQUFFQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxTQUFTQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNqQ0EsTUFBTUEsQ0FBQ0E7UUFDVEEsQ0FBQ0E7UUFFREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsS0FBS0EsY0FBY0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDakNBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLEVBQUVBO2dCQUNsQkEsSUFBSUEsRUFBRUEsSUFBSUEsQ0FBQ0EsSUFBSUE7Z0JBQ2ZBLElBQUlBLEVBQUVBLElBQUlBLENBQUNBLElBQUlBO2dCQUNmQSxJQUFJQSxFQUFFQSxDQUFFQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFFQTthQUNwQkEsQ0FBQ0EsQ0FBQ0E7UUFDTEEsQ0FBQ0E7SUFDSEEsQ0FBQ0EsQ0FBQ0YsQ0FBQ0E7SUFLSEEsTUFBTUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsWUFBWUEsRUFBRUEsNkJBQTZCQSxJQUFJQTtRQUN2REcsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsV0FBV0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDbkNBLE1BQU1BLENBQUNBO1FBQ1RBLENBQUNBO1FBRURBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLFVBQVVBLEVBQUVBLEVBQUVBLENBQUNBLENBQUNBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBQzVGQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxFQUFFQTtnQkFDbEJBLElBQUlBLEVBQUVBLElBQUlBLENBQUNBLElBQUlBO2dCQUNmQSxJQUFJQSxFQUFFQSxJQUFJQSxDQUFDQSxJQUFJQTtnQkFDZkEsSUFBSUEsRUFBRUEsQ0FBRUEsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBRUE7YUFDcEJBLENBQUNBLENBQUNBO1FBQ0xBLENBQUNBO0lBQ0hBLENBQUNBLENBQUNILENBQUNBO0lBSUhBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLFFBQVFBLEVBQUVBLDBCQUEwQkEsSUFBSUE7UUFDaERJLElBQUlBLFFBQVFBLEdBQUdBLE1BQU1BLENBQUNBLFNBQVNBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO1FBQzVDQSxJQUFJQSxJQUFJQSxDQUFDQTtRQUVUQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNkQSxNQUFNQSxDQUFDQTtRQUNUQSxDQUFDQTtRQUlEQSxFQUFFQSxDQUFDQSxDQUFDQSxRQUFRQSxLQUFLQSxRQUFRQSxJQUFJQSxJQUFJQSxDQUFDQSxLQUFLQSxLQUFLQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNoREEsSUFBSUEsR0FBR0EsTUFBTUEsQ0FBQ0E7UUFDaEJBLENBQUNBO1FBSURBLEVBQUVBLENBQUNBLENBQUNBLFFBQVFBLEtBQUtBLFFBQVFBLElBQUlBLElBQUlBLENBQUNBLEtBQUtBLEtBQUtBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1lBQ2pEQSxJQUFJQSxHQUFHQSxNQUFNQSxDQUFDQTtRQUNoQkEsQ0FBQ0E7UUFLREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsUUFBUUEsS0FBS0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDdEJBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUNqQ0EsTUFBTUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsVUFBVUEsRUFBRUEsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0E7WUFDMUNBLENBQUNBO1lBRURBLEVBQUVBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLFVBQVVBLENBQUNBLEtBQUtBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLENBQUNBO2dCQUMvQ0EsSUFBSUEsR0FBR0EsTUFBTUEsQ0FBQ0E7WUFDaEJBLENBQUNBO1FBQ0hBLENBQUNBO1FBRURBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1lBQ1RBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLElBQUlBLEVBQUVBO2dCQUNoQkEsSUFBSUEsRUFBRUEsSUFBSUEsQ0FBQ0EsSUFBSUE7Z0JBQ2ZBLElBQUlBLEVBQUVBLElBQUlBLENBQUNBLElBQUlBO2FBQ2hCQSxDQUFDQSxDQUFDQTtRQUNMQSxDQUFDQTtJQUNIQSxDQUFDQSxDQUFDSixDQUFDQTtJQUVIQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxRQUFRQSxFQUFFQSwyQkFBMkJBLElBQUlBO1FBQ2pESyxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQSxLQUFLQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUVqQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsRUFBRUE7Z0JBQ2xCQSxJQUFJQSxFQUFFQSxJQUFJQSxDQUFDQSxJQUFJQTtnQkFDZkEsSUFBSUEsRUFBRUEsSUFBSUEsQ0FBQ0EsSUFBSUE7Z0JBQ2ZBLElBQUlBLEVBQUVBLENBQUVBLElBQUlBLENBQUNBLEtBQUtBLENBQUVBO2FBQ3JCQSxDQUFDQSxDQUFDQTtRQUNMQSxDQUFDQTtRQUVEQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxNQUFNQSxHQUFHQSxDQUFDQSxDQUFDQSxLQUFLQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUVyREEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsRUFBRUE7Z0JBQ2xCQSxJQUFJQSxFQUFFQSxJQUFJQSxDQUFDQSxJQUFJQTtnQkFDZkEsSUFBSUEsRUFBRUEsSUFBSUEsQ0FBQ0EsSUFBSUE7Z0JBQ2ZBLElBQUlBLEVBQUVBLENBQUVBLElBQUlBLENBQUNBLEtBQUtBLENBQUVBO2FBQ3JCQSxDQUFDQSxDQUFDQTtRQUNMQSxDQUFDQTtRQUVEQSxFQUFFQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUU1QkEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsRUFBRUE7Z0JBQ2xCQSxJQUFJQSxFQUFFQSxJQUFJQSxDQUFDQSxJQUFJQTtnQkFDZkEsSUFBSUEsRUFBRUEsSUFBSUEsQ0FBQ0EsSUFBSUE7Z0JBQ2ZBLElBQUlBLEVBQUVBLENBQUVBLElBQUlBLENBQUNBLEtBQUtBLENBQUVBO2FBQ3JCQSxDQUFDQSxDQUFDQTtRQUNMQSxDQUFDQTtJQUNIQSxDQUFDQSxDQUFDTCxDQUFDQTtJQUlIQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxRQUFRQSxFQUFFQSxrQ0FBa0NBLElBQUlBO1FBQ3hETSxJQUFJQSxFQUFFQSxHQUFHQSw2REFBNkRBLENBQUNBO1FBRXZFQSxFQUFFQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxTQUFTQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNsQ0EsTUFBTUEsQ0FBQ0E7UUFDVEEsQ0FBQ0E7UUFFREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDeEJBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLEVBQUVBO2dCQUNsQkEsSUFBSUEsRUFBRUEsSUFBSUEsQ0FBQ0EsSUFBSUE7Z0JBQ2ZBLElBQUlBLEVBQUVBLElBQUlBLENBQUNBLElBQUlBO2FBQ2hCQSxDQUFDQSxDQUFDQTtRQUNMQSxDQUFDQTtJQUNIQSxDQUFDQSxDQUFDTixDQUFDQTtBQUNMQSxDQUFDQTtBQUFBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyKGxpbnRlcikge1xuICAvLyBDaGVjayBmb3IgcHJvcGVydGllcyBuYW1lZCBfX3Byb3RvX18uIFRoaXMgc3BlY2lhbCBwcm9wZXJ0eSB3YXNcbiAgLy8gZGVwcmVjYXRlZCBhbmQgdGhlbiByZS1pbnRyb2R1Y2VkIGZvciBFUzYuXG5cbiAgbGludGVyLm9uKFwiSWRlbnRpZmllclwiLCBmdW5jdGlvbiBzdHlsZV9zY2FuUHJvdG8oZGF0YSkge1xuICAgIGlmIChsaW50ZXIuZ2V0T3B0aW9uKFwicHJvdG9cIikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5uYW1lID09PSBcIl9fcHJvdG9fX1wiKSB7XG4gICAgICBsaW50ZXIud2FybihcIlcxMDNcIiwge1xuICAgICAgICBsaW5lOiBkYXRhLmxpbmUsXG4gICAgICAgIGNoYXI6IGRhdGEuY2hhcixcbiAgICAgICAgZGF0YTogWyBkYXRhLm5hbWUsIFwiNlwiIF1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gQ2hlY2sgZm9yIHByb3BlcnRpZXMgbmFtZWQgX19pdGVyYXRvcl9fLiBUaGlzIGlzIGEgc3BlY2lhbCBwcm9wZXJ0eVxuICAvLyBhdmFpbGFibGUgb25seSBpbiBicm93c2VycyB3aXRoIEphdmFTY3JpcHQgMS43IGltcGxlbWVudGF0aW9uLCBidXRcbiAgLy8gaXQgaXMgZGVwcmVjYXRlZCBmb3IgRVM2XG5cbiAgbGludGVyLm9uKFwiSWRlbnRpZmllclwiLCBmdW5jdGlvbiBzdHlsZV9zY2FuSXRlcmF0b3IoZGF0YSkge1xuICAgIGlmIChsaW50ZXIuZ2V0T3B0aW9uKFwiaXRlcmF0b3JcIikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5uYW1lID09PSBcIl9faXRlcmF0b3JfX1wiKSB7XG4gICAgICBsaW50ZXIud2FybihcIlcxMDNcIiwge1xuICAgICAgICBsaW5lOiBkYXRhLmxpbmUsXG4gICAgICAgIGNoYXI6IGRhdGEuY2hhcixcbiAgICAgICAgZGF0YTogWyBkYXRhLm5hbWUgXVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBDaGVjayB0aGF0IGFsbCBpZGVudGlmaWVycyBhcmUgdXNpbmcgY2FtZWxDYXNlIG5vdGF0aW9uLlxuICAvLyBFeGNlcHRpb25zOiBuYW1lcyBsaWtlIE1ZX1ZBUiBhbmQgX215VmFyLlxuXG4gIGxpbnRlci5vbihcIklkZW50aWZpZXJcIiwgZnVuY3Rpb24gc3R5bGVfc2NhbkNhbWVsQ2FzZShkYXRhKSB7XG4gICAgaWYgKCFsaW50ZXIuZ2V0T3B0aW9uKFwiY2FtZWxjYXNlXCIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRhdGEubmFtZS5yZXBsYWNlKC9eXyt8XyskL2csIFwiXCIpLmluZGV4T2YoXCJfXCIpID4gLTEgJiYgIWRhdGEubmFtZS5tYXRjaCgvXltBLVowLTlfXSokLykpIHtcbiAgICAgIGxpbnRlci53YXJuKFwiVzEwNlwiLCB7XG4gICAgICAgIGxpbmU6IGRhdGEubGluZSxcbiAgICAgICAgY2hhcjogZGF0YS5mcm9tLFxuICAgICAgICBkYXRhOiBbIGRhdGEubmFtZSBdXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEVuZm9yY2UgY29uc2lzdGVuY3kgaW4gc3R5bGUgb2YgcXVvdGluZy5cblxuICBsaW50ZXIub24oXCJTdHJpbmdcIiwgZnVuY3Rpb24gc3R5bGVfc2NhblF1b3RlcyhkYXRhKSB7XG4gICAgdmFyIHF1b3RtYXJrID0gbGludGVyLmdldE9wdGlvbihcInF1b3RtYXJrXCIpO1xuICAgIHZhciBjb2RlO1xuXG4gICAgaWYgKCFxdW90bWFyaykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHF1b3RtYXJrIGlzIHNldCB0byAnc2luZ2xlJyB3YXJuIGFib3V0IGFsbCBkb3VibGUtcXVvdGVzLlxuXG4gICAgaWYgKHF1b3RtYXJrID09PSBcInNpbmdsZVwiICYmIGRhdGEucXVvdGUgIT09IFwiJ1wiKSB7XG4gICAgICBjb2RlID0gXCJXMTA5XCI7XG4gICAgfVxuXG4gICAgLy8gSWYgcXVvdG1hcmsgaXMgc2V0IHRvICdkb3VibGUnIHdhcm4gYWJvdXQgYWxsIHNpbmdsZS1xdW90ZXMuXG5cbiAgICBpZiAocXVvdG1hcmsgPT09IFwiZG91YmxlXCIgJiYgZGF0YS5xdW90ZSAhPT0gXCJcXFwiXCIpIHtcbiAgICAgIGNvZGUgPSBcIlcxMDhcIjtcbiAgICB9XG5cbiAgICAvLyBJZiBxdW90bWFyayBpcyBzZXQgdG8gdHJ1ZSwgcmVtZW1iZXIgdGhlIGZpcnN0IHF1b3RhdGlvbiBzdHlsZVxuICAgIC8vIGFuZCB0aGVuIHdhcm4gYWJvdXQgYWxsIG90aGVycy5cblxuICAgIGlmIChxdW90bWFyayA9PT0gdHJ1ZSkge1xuICAgICAgaWYgKCFsaW50ZXIuZ2V0Q2FjaGUoXCJxdW90bWFya1wiKSkge1xuICAgICAgICBsaW50ZXIuc2V0Q2FjaGUoXCJxdW90bWFya1wiLCBkYXRhLnF1b3RlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxpbnRlci5nZXRDYWNoZShcInF1b3RtYXJrXCIpICE9PSBkYXRhLnF1b3RlKSB7XG4gICAgICAgIGNvZGUgPSBcIlcxMTBcIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZSkge1xuICAgICAgbGludGVyLndhcm4oY29kZSwge1xuICAgICAgICBsaW5lOiBkYXRhLmxpbmUsXG4gICAgICAgIGNoYXI6IGRhdGEuY2hhcixcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgbGludGVyLm9uKFwiTnVtYmVyXCIsIGZ1bmN0aW9uIHN0eWxlX3NjYW5OdW1iZXJzKGRhdGEpIHtcbiAgICBpZiAoZGF0YS52YWx1ZS5jaGFyQXQoMCkgPT09IFwiLlwiKSB7XG4gICAgICAvLyBXYXJuIGFib3V0IGEgbGVhZGluZyBkZWNpbWFsIHBvaW50LlxuICAgICAgbGludGVyLndhcm4oXCJXMDA4XCIsIHtcbiAgICAgICAgbGluZTogZGF0YS5saW5lLFxuICAgICAgICBjaGFyOiBkYXRhLmNoYXIsXG4gICAgICAgIGRhdGE6IFsgZGF0YS52YWx1ZSBdXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS52YWx1ZS5zdWJzdHIoZGF0YS52YWx1ZS5sZW5ndGggLSAxKSA9PT0gXCIuXCIpIHtcbiAgICAgIC8vIFdhcm4gYWJvdXQgYSB0cmFpbGluZyBkZWNpbWFsIHBvaW50LlxuICAgICAgbGludGVyLndhcm4oXCJXMDQ3XCIsIHtcbiAgICAgICAgbGluZTogZGF0YS5saW5lLFxuICAgICAgICBjaGFyOiBkYXRhLmNoYXIsXG4gICAgICAgIGRhdGE6IFsgZGF0YS52YWx1ZSBdXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoL14wMCsvLnRlc3QoZGF0YS52YWx1ZSkpIHtcbiAgICAgIC8vIE11bHRpcGxlIGxlYWRpbmcgemVyb2VzLlxuICAgICAgbGludGVyLndhcm4oXCJXMDQ2XCIsIHtcbiAgICAgICAgbGluZTogZGF0YS5saW5lLFxuICAgICAgICBjaGFyOiBkYXRhLmNoYXIsXG4gICAgICAgIGRhdGE6IFsgZGF0YS52YWx1ZSBdXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFdhcm4gYWJvdXQgc2NyaXB0IFVSTHMuXG5cbiAgbGludGVyLm9uKFwiU3RyaW5nXCIsIGZ1bmN0aW9uIHN0eWxlX3NjYW5KYXZhU2NyaXB0VVJMcyhkYXRhKSB7XG4gICAgdmFyIHJlID0gL14oPzpqYXZhc2NyaXB0fGpzY3JpcHR8ZWNtYXNjcmlwdHx2YnNjcmlwdHxsaXZlc2NyaXB0KVxccyo6L2k7XG5cbiAgICBpZiAobGludGVyLmdldE9wdGlvbihcInNjcmlwdHVybFwiKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChyZS50ZXN0KGRhdGEudmFsdWUpKSB7XG4gICAgICBsaW50ZXIud2FybihcIlcxMDdcIiwge1xuICAgICAgICBsaW5lOiBkYXRhLmxpbmUsXG4gICAgICAgIGNoYXI6IGRhdGEuY2hhclxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG4iXX0=