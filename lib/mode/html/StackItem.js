var SpecialElements = {
    "http://www.w3.org/1999/xhtml": [
        'address',
        'applet',
        'area',
        'article',
        'aside',
        'base',
        'basefont',
        'bgsound',
        'blockquote',
        'body',
        'br',
        'button',
        'caption',
        'center',
        'col',
        'colgroup',
        'dd',
        'details',
        'dir',
        'div',
        'dl',
        'dt',
        'embed',
        'fieldset',
        'figcaption',
        'figure',
        'footer',
        'form',
        'frame',
        'frameset',
        'h1',
        'h2',
        'h3',
        'h4',
        'h5',
        'h6',
        'head',
        'header',
        'hgroup',
        'hr',
        'html',
        'iframe',
        'img',
        'input',
        'isindex',
        'li',
        'link',
        'listing',
        'main',
        'marquee',
        'menu',
        'menuitem',
        'meta',
        'nav',
        'noembed',
        'noframes',
        'noscript',
        'object',
        'ol',
        'p',
        'param',
        'plaintext',
        'pre',
        'script',
        'section',
        'select',
        'source',
        'style',
        'summary',
        'table',
        'tbody',
        'td',
        'textarea',
        'tfoot',
        'th',
        'thead',
        'title',
        'tr',
        'track',
        'ul',
        'wbr',
        'xmp'
    ],
    "http://www.w3.org/1998/Math/MathML": [
        'mi',
        'mo',
        'mn',
        'ms',
        'mtext',
        'annotation-xml'
    ],
    "http://www.w3.org/2000/svg": [
        'foreignObject',
        'desc',
        'title'
    ]
};
export default function StackItem(namespaceURI, localName, attributes, node) {
    this.localName = localName;
    this.namespaceURI = namespaceURI;
    this.attributes = attributes;
    this.node = node;
}
StackItem.prototype.isSpecial = function () {
    return this.namespaceURI in SpecialElements &&
        SpecialElements[this.namespaceURI].indexOf(this.localName) > -1;
};
StackItem.prototype.isFosterParenting = function () {
    if (this.namespaceURI === "http://www.w3.org/1999/xhtml") {
        return this.localName === 'table' ||
            this.localName === 'tbody' ||
            this.localName === 'tfoot' ||
            this.localName === 'thead' ||
            this.localName === 'tr';
    }
    return false;
};
StackItem.prototype.isNumberedHeader = function () {
    if (this.namespaceURI === "http://www.w3.org/1999/xhtml") {
        return this.localName === 'h1' ||
            this.localName === 'h2' ||
            this.localName === 'h3' ||
            this.localName === 'h4' ||
            this.localName === 'h5' ||
            this.localName === 'h6';
    }
    return false;
};
StackItem.prototype.isForeign = function () {
    return this.namespaceURI != "http://www.w3.org/1999/xhtml";
};
function getAttribute(item, name) {
    for (var i = 0; i < item.attributes.length; i++) {
        if (item.attributes[i].nodeName == name)
            return item.attributes[i].nodeValue;
    }
    return null;
}
StackItem.prototype.isHtmlIntegrationPoint = function () {
    if (this.namespaceURI === "http://www.w3.org/1998/Math/MathML") {
        if (this.localName !== "annotation-xml")
            return false;
        var encoding = getAttribute(this, 'encoding');
        if (!encoding)
            return false;
        encoding = encoding.toLowerCase();
        return encoding === "text/html" || encoding === "application/xhtml+xml";
    }
    if (this.namespaceURI === "http://www.w3.org/2000/svg") {
        return this.localName === "foreignObject"
            || this.localName === "desc"
            || this.localName === "title";
    }
    return false;
};
StackItem.prototype.isMathMLTextIntegrationPoint = function () {
    if (this.namespaceURI === "http://www.w3.org/1998/Math/MathML") {
        return this.localName === "mi"
            || this.localName === "mo"
            || this.localName === "mn"
            || this.localName === "ms"
            || this.localName === "mtext";
    }
    return false;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RhY2tJdGVtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL21vZGUvaHRtbC9TdGFja0l0ZW0udHMiXSwibmFtZXMiOlsiU3RhY2tJdGVtIiwiZ2V0QXR0cmlidXRlIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJLGVBQWUsR0FBRztJQUNwQiw4QkFBOEIsRUFBRTtRQUM5QixTQUFTO1FBQ1QsUUFBUTtRQUNSLE1BQU07UUFDTixTQUFTO1FBQ1QsT0FBTztRQUNQLE1BQU07UUFDTixVQUFVO1FBQ1YsU0FBUztRQUNULFlBQVk7UUFDWixNQUFNO1FBQ04sSUFBSTtRQUNKLFFBQVE7UUFDUixTQUFTO1FBQ1QsUUFBUTtRQUNSLEtBQUs7UUFDTCxVQUFVO1FBQ1YsSUFBSTtRQUNKLFNBQVM7UUFDVCxLQUFLO1FBQ0wsS0FBSztRQUNMLElBQUk7UUFDSixJQUFJO1FBQ0osT0FBTztRQUNQLFVBQVU7UUFDVixZQUFZO1FBQ1osUUFBUTtRQUNSLFFBQVE7UUFDUixNQUFNO1FBQ04sT0FBTztRQUNQLFVBQVU7UUFDVixJQUFJO1FBQ0osSUFBSTtRQUNKLElBQUk7UUFDSixJQUFJO1FBQ0osSUFBSTtRQUNKLElBQUk7UUFDSixNQUFNO1FBQ04sUUFBUTtRQUNSLFFBQVE7UUFDUixJQUFJO1FBQ0osTUFBTTtRQUNOLFFBQVE7UUFDUixLQUFLO1FBQ0wsT0FBTztRQUNQLFNBQVM7UUFDVCxJQUFJO1FBQ0osTUFBTTtRQUNOLFNBQVM7UUFDVCxNQUFNO1FBQ04sU0FBUztRQUNULE1BQU07UUFDTixVQUFVO1FBQ1YsTUFBTTtRQUNOLEtBQUs7UUFDTCxTQUFTO1FBQ1QsVUFBVTtRQUNWLFVBQVU7UUFDVixRQUFRO1FBQ1IsSUFBSTtRQUNKLEdBQUc7UUFDSCxPQUFPO1FBQ1AsV0FBVztRQUNYLEtBQUs7UUFDTCxRQUFRO1FBQ1IsU0FBUztRQUNULFFBQVE7UUFDUixRQUFRO1FBQ1IsT0FBTztRQUNQLFNBQVM7UUFDVCxPQUFPO1FBQ1AsT0FBTztR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QUFDLFNBQVMsS0FBSyxPQUFPLENBQUM7SUFDbEMsQ0FBQztJQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDZixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgU3BlY2lhbEVsZW1lbnRzID0ge1xuICBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIjogW1xuICAgICdhZGRyZXNzJyxcbiAgICAnYXBwbGV0JyxcbiAgICAnYXJlYScsXG4gICAgJ2FydGljbGUnLFxuICAgICdhc2lkZScsXG4gICAgJ2Jhc2UnLFxuICAgICdiYXNlZm9udCcsXG4gICAgJ2Jnc291bmQnLFxuICAgICdibG9ja3F1b3RlJyxcbiAgICAnYm9keScsXG4gICAgJ2JyJyxcbiAgICAnYnV0dG9uJyxcbiAgICAnY2FwdGlvbicsXG4gICAgJ2NlbnRlcicsXG4gICAgJ2NvbCcsXG4gICAgJ2NvbGdyb3VwJyxcbiAgICAnZGQnLFxuICAgICdkZXRhaWxzJyxcbiAgICAnZGlyJyxcbiAgICAnZGl2JyxcbiAgICAnZGwnLFxuICAgICdkdCcsXG4gICAgJ2VtYmVkJyxcbiAgICAnZmllbGRzZXQnLFxuICAgICdmaWdjYXB0aW9uJyxcbiAgICAnZmlndXJlJyxcbiAgICAnZm9vdGVyJyxcbiAgICAnZm9ybScsXG4gICAgJ2ZyYW1lJyxcbiAgICAnZnJhbWVzZXQnLFxuICAgICdoMScsXG4gICAgJ2gyJyxcbiAgICAnaDMnLFxuICAgICdoNCcsXG4gICAgJ2g1JyxcbiAgICAnaDYnLFxuICAgICdoZWFkJyxcbiAgICAnaGVhZGVyJyxcbiAgICAnaGdyb3VwJyxcbiAgICAnaHInLFxuICAgICdodG1sJyxcbiAgICAnaWZyYW1lJyxcbiAgICAnaW1nJyxcbiAgICAnaW5wdXQnLFxuICAgICdpc2luZGV4JyxcbiAgICAnbGknLFxuICAgICdsaW5rJyxcbiAgICAnbGlzdGluZycsXG4gICAgJ21haW4nLFxuICAgICdtYXJxdWVlJyxcbiAgICAnbWVudScsXG4gICAgJ21lbnVpdGVtJyxcbiAgICAnbWV0YScsXG4gICAgJ25hdicsXG4gICAgJ25vZW1iZWQnLFxuICAgICdub2ZyYW1lcycsXG4gICAgJ25vc2NyaXB0JyxcbiAgICAnb2JqZWN0JyxcbiAgICAnb2wnLFxuICAgICdwJyxcbiAgICAncGFyYW0nLFxuICAgICdwbGFpbnRleHQnLFxuICAgICdwcmUnLFxuICAgICdzY3JpcHQnLFxuICAgICdzZWN0aW9uJyxcbiAgICAnc2VsZWN0JyxcbiAgICAnc291cmNlJyxcbiAgICAnc3R5bGUnLFxuICAgICdzdW1tYXJ5JyxcbiAgICAndGFibGUnLFxuICAgICd0Ym9keScsXG4gICAgJ3RkJyxcbiAgICAndGV4dGFyZWEnLFxuICAgICd0Zm9vdCcsXG4gICAgJ3RoJyxcbiAgICAndGhlYWQnLFxuICAgICd0aXRsZScsXG4gICAgJ3RyJyxcbiAgICAndHJhY2snLFxuICAgICd1bCcsXG4gICAgJ3dicicsXG4gICAgJ3htcCdcbiAgXSxcbiAgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCI6IFtcbiAgICAnbWknLFxuICAgICdtbycsXG4gICAgJ21uJyxcbiAgICAnbXMnLFxuICAgICdtdGV4dCcsXG4gICAgJ2Fubm90YXRpb24teG1sJ1xuICBdLFxuICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI6IFtcbiAgICAnZm9yZWlnbk9iamVjdCcsXG4gICAgJ2Rlc2MnLFxuICAgICd0aXRsZSdcbiAgXVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3RhY2tJdGVtKG5hbWVzcGFjZVVSSSwgbG9jYWxOYW1lLCBhdHRyaWJ1dGVzLCBub2RlKSB7XG4gIHRoaXMubG9jYWxOYW1lID0gbG9jYWxOYW1lO1xuICB0aGlzLm5hbWVzcGFjZVVSSSA9IG5hbWVzcGFjZVVSSTtcbiAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgdGhpcy5ub2RlID0gbm9kZTtcbn1cblxuLy8gaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvcGFyc2luZy5odG1sI3NwZWNpYWxcblN0YWNrSXRlbS5wcm90b3R5cGUuaXNTcGVjaWFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm5hbWVzcGFjZVVSSSBpbiBTcGVjaWFsRWxlbWVudHMgJiZcbiAgICBTcGVjaWFsRWxlbWVudHNbdGhpcy5uYW1lc3BhY2VVUkldLmluZGV4T2YodGhpcy5sb2NhbE5hbWUpID4gLTE7XG59O1xuXG5TdGFja0l0ZW0ucHJvdG90eXBlLmlzRm9zdGVyUGFyZW50aW5nID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLm5hbWVzcGFjZVVSSSA9PT0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbE5hbWUgPT09ICd0YWJsZScgfHxcbiAgICAgIHRoaXMubG9jYWxOYW1lID09PSAndGJvZHknIHx8XG4gICAgICB0aGlzLmxvY2FsTmFtZSA9PT0gJ3Rmb290JyB8fFxuICAgICAgdGhpcy5sb2NhbE5hbWUgPT09ICd0aGVhZCcgfHxcbiAgICAgIHRoaXMubG9jYWxOYW1lID09PSAndHInO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cblN0YWNrSXRlbS5wcm90b3R5cGUuaXNOdW1iZXJlZEhlYWRlciA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5uYW1lc3BhY2VVUkkgPT09IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiKSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxOYW1lID09PSAnaDEnIHx8XG4gICAgICB0aGlzLmxvY2FsTmFtZSA9PT0gJ2gyJyB8fFxuICAgICAgdGhpcy5sb2NhbE5hbWUgPT09ICdoMycgfHxcbiAgICAgIHRoaXMubG9jYWxOYW1lID09PSAnaDQnIHx8XG4gICAgICB0aGlzLmxvY2FsTmFtZSA9PT0gJ2g1JyB8fFxuICAgICAgdGhpcy5sb2NhbE5hbWUgPT09ICdoNic7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuU3RhY2tJdGVtLnByb3RvdHlwZS5pc0ZvcmVpZ24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubmFtZXNwYWNlVVJJICE9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO1xufTtcblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKGl0ZW0sIG5hbWUpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaXRlbS5hdHRyaWJ1dGVzW2ldLm5vZGVOYW1lID09IG5hbWUpXG4gICAgICByZXR1cm4gaXRlbS5hdHRyaWJ1dGVzW2ldLm5vZGVWYWx1ZTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuU3RhY2tJdGVtLnByb3RvdHlwZS5pc0h0bWxJbnRlZ3JhdGlvblBvaW50ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLm5hbWVzcGFjZVVSSSA9PT0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCIpIHtcbiAgICBpZiAodGhpcy5sb2NhbE5hbWUgIT09IFwiYW5ub3RhdGlvbi14bWxcIilcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2YXIgZW5jb2RpbmcgPSBnZXRBdHRyaWJ1dGUodGhpcywgJ2VuY29kaW5nJyk7XG4gICAgaWYgKCFlbmNvZGluZylcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBlbmNvZGluZyA9IGVuY29kaW5nLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIGVuY29kaW5nID09PSBcInRleHQvaHRtbFwiIHx8IGVuY29kaW5nID09PSBcImFwcGxpY2F0aW9uL3hodG1sK3htbFwiO1xuICB9XG4gIGlmICh0aGlzLm5hbWVzcGFjZVVSSSA9PT0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxOYW1lID09PSBcImZvcmVpZ25PYmplY3RcIlxuICAgICAgfHwgdGhpcy5sb2NhbE5hbWUgPT09IFwiZGVzY1wiXG4gICAgICB8fCB0aGlzLmxvY2FsTmFtZSA9PT0gXCJ0aXRsZVwiO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cblN0YWNrSXRlbS5wcm90b3R5cGUuaXNNYXRoTUxUZXh0SW50ZWdyYXRpb25Qb2ludCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5uYW1lc3BhY2VVUkkgPT09IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiKSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxOYW1lID09PSBcIm1pXCJcbiAgICAgIHx8IHRoaXMubG9jYWxOYW1lID09PSBcIm1vXCJcbiAgICAgIHx8IHRoaXMubG9jYWxOYW1lID09PSBcIm1uXCJcbiAgICAgIHx8IHRoaXMubG9jYWxOYW1lID09PSBcIm1zXCJcbiAgICAgIHx8IHRoaXMubG9jYWxOYW1lID09PSBcIm10ZXh0XCI7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbiJdfQ==