import SAXTreeBuilder from './SAXTreeBuilder';
import Tokenizer from './Tokenizer';
import TreeParser from './TreeParser';
export default class SAXParser {
    constructor() {
        this.contentHandler = null;
        this._errorHandler = null;
        this._treeBuilder = new SAXTreeBuilder();
        this._tokenizer = new Tokenizer(this._treeBuilder);
        this._scriptingEnabled = false;
    }
    parseFragment(source, context) {
        this._treeBuilder.setFragmentContext(context);
        this._tokenizer.tokenize(source);
        var fragment = this._treeBuilder.getFragment();
        if (fragment) {
            new TreeParser(this.contentHandler).parse(fragment);
        }
    }
    parse(source) {
        this._tokenizer.tokenize(source);
        var document = this._treeBuilder.document;
        if (document) {
            new TreeParser(this.contentHandler).parse(document);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU0FYUGFyc2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL21vZGUvaHRtbC9TQVhQYXJzZXIudHMiXSwibmFtZXMiOlsiU0FYUGFyc2VyIiwiU0FYUGFyc2VyLmNvbnN0cnVjdG9yIiwiU0FYUGFyc2VyLnBhcnNlRnJhZ21lbnQiLCJTQVhQYXJzZXIucGFyc2UiXSwibWFwcGluZ3MiOiJPQUFPLGNBQWMsTUFBTSxrQkFBa0I7T0FDdEMsU0FBUyxNQUFNLGFBQWE7T0FDNUIsVUFBVSxNQUFNLGNBQWM7QUFFckM7SUFPSUE7UUFDSUMsSUFBSUEsQ0FBQ0EsY0FBY0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDM0JBLElBQUlBLENBQUNBLGFBQWFBLEdBQUdBLElBQUlBLENBQUNBO1FBQzFCQSxJQUFJQSxDQUFDQSxZQUFZQSxHQUFHQSxJQUFJQSxjQUFjQSxFQUFFQSxDQUFDQTtRQUN6Q0EsSUFBSUEsQ0FBQ0EsVUFBVUEsR0FBR0EsSUFBSUEsU0FBU0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0E7UUFDbkRBLElBQUlBLENBQUNBLGlCQUFpQkEsR0FBR0EsS0FBS0EsQ0FBQ0E7SUFFbkNBLENBQUNBO0lBQ0RELGFBQWFBLENBQUNBLE1BQU1BLEVBQUVBLE9BQU9BO1FBQ3pCRSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxrQkFBa0JBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO1FBQzlDQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxRQUFRQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtRQUNqQ0EsSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsV0FBV0EsRUFBRUEsQ0FBQ0E7UUFDL0NBLEVBQUVBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBO1lBQ1hBLElBQUlBLFVBQVVBLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO1FBQ3hEQSxDQUFDQTtJQUNMQSxDQUFDQTtJQUNERixLQUFLQSxDQUFDQSxNQUFNQTtRQUNSRyxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxRQUFRQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtRQUNqQ0EsSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsUUFBUUEsQ0FBQ0E7UUFDMUNBLEVBQUVBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBO1lBQ1hBLElBQUlBLFVBQVVBLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO1FBQ3hEQSxDQUFDQTtJQUNMQSxDQUFDQTtBQUNMSCxDQUFDQTtBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNBWFRyZWVCdWlsZGVyIGZyb20gJy4vU0FYVHJlZUJ1aWxkZXInO1xuaW1wb3J0IFRva2VuaXplciBmcm9tICcuL1Rva2VuaXplcic7XG5pbXBvcnQgVHJlZVBhcnNlciBmcm9tICcuL1RyZWVQYXJzZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTQVhQYXJzZXIge1xuICAgIGNvbnRlbnRIYW5kbGVyO1xuICAgIGVycm9ySGFuZGxlcjtcbiAgICBfZXJyb3JIYW5kbGVyO1xuICAgIF90cmVlQnVpbGRlcjogU0FYVHJlZUJ1aWxkZXI7XG4gICAgX3Rva2VuaXplcjogVG9rZW5pemVyO1xuICAgIF9zY3JpcHRpbmdFbmFibGVkOiBib29sZWFuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY29udGVudEhhbmRsZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9lcnJvckhhbmRsZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl90cmVlQnVpbGRlciA9IG5ldyBTQVhUcmVlQnVpbGRlcigpO1xuICAgICAgICB0aGlzLl90b2tlbml6ZXIgPSBuZXcgVG9rZW5pemVyKHRoaXMuX3RyZWVCdWlsZGVyKTtcbiAgICAgICAgdGhpcy5fc2NyaXB0aW5nRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgfVxuICAgIHBhcnNlRnJhZ21lbnQoc291cmNlLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuX3RyZWVCdWlsZGVyLnNldEZyYWdtZW50Q29udGV4dChjb250ZXh0KTtcbiAgICAgICAgdGhpcy5fdG9rZW5pemVyLnRva2VuaXplKHNvdXJjZSk7XG4gICAgICAgIHZhciBmcmFnbWVudCA9IHRoaXMuX3RyZWVCdWlsZGVyLmdldEZyYWdtZW50KCk7XG4gICAgICAgIGlmIChmcmFnbWVudCkge1xuICAgICAgICAgICAgbmV3IFRyZWVQYXJzZXIodGhpcy5jb250ZW50SGFuZGxlcikucGFyc2UoZnJhZ21lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhcnNlKHNvdXJjZSkge1xuICAgICAgICB0aGlzLl90b2tlbml6ZXIudG9rZW5pemUoc291cmNlKTtcbiAgICAgICAgdmFyIGRvY3VtZW50ID0gdGhpcy5fdHJlZUJ1aWxkZXIuZG9jdW1lbnQ7XG4gICAgICAgIGlmIChkb2N1bWVudCkge1xuICAgICAgICAgICAgbmV3IFRyZWVQYXJzZXIodGhpcy5jb250ZW50SGFuZGxlcikucGFyc2UoZG9jdW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxufSJdfQ==