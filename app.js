import Document from './src/Document';
import Editor from './src/Editor';
import EditSession from './src/EditSession';
import JavaScriptMode from './src/mode/JavaScriptMode';
import VirtualRenderer from './src/VirtualRenderer';
export function main(element1, element2) {
    var scriptImports = [
        'jspm_packages/system.js',
        'config.js',
        'jspm_packages/github/ace2ts/ace-workers@0.1.8/dist/ace-workers.js'];
    var code = '// comment\n"use strict";\nvar x = 0;\nvar y = 1;\n';
    var doc1 = new Document('');
    var session1 = new EditSession(doc1);
    session1.setLanguageMode(new JavaScriptMode('worker.js', scriptImports));
    session1.setTabSize(2);
    var renderer1 = new VirtualRenderer(element1);
    renderer1.setThemeCss("ace-twilight", "/assets/css/twilight.css");
    renderer1.addCssClass("ace_dark");
    renderer1.setPadding(4);
    var editor1 = new Editor(renderer1, session1);
    editor1.setFontSize("16px");
    editor1.setValue(code);
    editor1.clearSelection();
    editor1.setShowInvisibles(true);
    editor1.setShowPrintMargin(false);
    editor1.resize();
    editor1.focus();
    var doc2 = new Document('');
    var session2 = new EditSession(doc2);
    session2.setLanguageMode(new JavaScriptMode('worker.js', scriptImports));
    var renderer2 = new VirtualRenderer(element2);
    renderer2.setThemeCss("ace-tm", "/assets/css/textmate.css");
    renderer2.addCssClass("ace_dark");
    renderer2.setPadding(4);
    var editor2 = new Editor(renderer2, session2);
    editor2.setFontSize("16px");
    editor2.setValue(code);
    editor2.clearSelection();
    editor2.setShowInvisibles(true);
    editor2.setShowPrintMargin(false);
    editor2.resize();
    editor2.blur();
    editor1.on('change', function (event, source) {
        var delta = event.data;
        var action = delta.action;
        var range = delta.range;
        console.log(JSON.stringify(delta));
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbIm1haW4iXSwibWFwcGluZ3MiOiJPQUNPLFFBQVEsTUFBTSxnQkFBZ0I7T0FDOUIsTUFBTSxNQUFNLGNBQWM7T0FDMUIsV0FBVyxNQUFNLG1CQUFtQjtPQUNwQyxjQUFjLE1BQU0sMkJBQTJCO09BQy9DLGVBQWUsTUFBTSx1QkFBdUI7QUFFbkQscUJBQXFCLFFBQXFCLEVBQUUsUUFBcUI7SUFTN0RBLElBQUlBLGFBQWFBLEdBQUdBO1FBQ2hCQSx5QkFBeUJBO1FBQ3pCQSxXQUFXQTtRQUNYQSxtRUFBbUVBLENBQUNBLENBQUNBO0lBRXpFQSxJQUFJQSxJQUFJQSxHQUFHQSxxREFBcURBLENBQUNBO0lBRWpFQSxJQUFJQSxJQUFJQSxHQUFHQSxJQUFJQSxRQUFRQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQTtJQUM1QkEsSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsV0FBV0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7SUFDckNBLFFBQVFBLENBQUNBLGVBQWVBLENBQUNBLElBQUlBLGNBQWNBLENBQUNBLFdBQVdBLEVBQUVBLGFBQWFBLENBQUNBLENBQUNBLENBQUNBO0lBQ3pFQSxRQUFRQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUN2QkEsSUFBSUEsU0FBU0EsR0FBR0EsSUFBSUEsZUFBZUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7SUFHOUNBLFNBQVNBLENBQUNBLFdBQVdBLENBQUNBLGNBQWNBLEVBQUVBLDBCQUEwQkEsQ0FBQ0EsQ0FBQ0E7SUFDbEVBLFNBQVNBLENBQUNBLFdBQVdBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO0lBQ2xDQSxTQUFTQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUN4QkEsSUFBSUEsT0FBT0EsR0FBR0EsSUFBSUEsTUFBTUEsQ0FBQ0EsU0FBU0EsRUFBRUEsUUFBUUEsQ0FBQ0EsQ0FBQ0E7SUFDOUNBLE9BQU9BLENBQUNBLFdBQVdBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO0lBQzVCQSxPQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtJQUN2QkEsT0FBT0EsQ0FBQ0EsY0FBY0EsRUFBRUEsQ0FBQ0E7SUFDekJBLE9BQU9BLENBQUNBLGlCQUFpQkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7SUFDaENBLE9BQU9BLENBQUNBLGtCQUFrQkEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0E7SUFDbENBLE9BQU9BLENBQUNBLE1BQU1BLEVBQUVBLENBQUNBO0lBQ2pCQSxPQUFPQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtJQUVoQkEsSUFBSUEsSUFBSUEsR0FBR0EsSUFBSUEsUUFBUUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7SUFDNUJBLElBQUlBLFFBQVFBLEdBQUdBLElBQUlBLFdBQVdBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO0lBQ3JDQSxRQUFRQSxDQUFDQSxlQUFlQSxDQUFDQSxJQUFJQSxjQUFjQSxDQUFDQSxXQUFXQSxFQUFFQSxhQUFhQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUN6RUEsSUFBSUEsU0FBU0EsR0FBR0EsSUFBSUEsZUFBZUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7SUFDOUNBLFNBQVNBLENBQUNBLFdBQVdBLENBQUNBLFFBQVFBLEVBQUVBLDBCQUEwQkEsQ0FBQ0EsQ0FBQ0E7SUFDNURBLFNBQVNBLENBQUNBLFdBQVdBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO0lBQ2xDQSxTQUFTQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUN4QkEsSUFBSUEsT0FBT0EsR0FBR0EsSUFBSUEsTUFBTUEsQ0FBQ0EsU0FBU0EsRUFBRUEsUUFBUUEsQ0FBQ0EsQ0FBQ0E7SUFDOUNBLE9BQU9BLENBQUNBLFdBQVdBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO0lBQzVCQSxPQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtJQUN2QkEsT0FBT0EsQ0FBQ0EsY0FBY0EsRUFBRUEsQ0FBQ0E7SUFDekJBLE9BQU9BLENBQUNBLGlCQUFpQkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7SUFDaENBLE9BQU9BLENBQUNBLGtCQUFrQkEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0E7SUFDbENBLE9BQU9BLENBQUNBLE1BQU1BLEVBQUVBLENBQUNBO0lBQ2pCQSxPQUFPQSxDQUFDQSxJQUFJQSxFQUFFQSxDQUFDQTtJQUVmQSxPQUFPQSxDQUFDQSxFQUFFQSxDQUFDQSxRQUFRQSxFQUFFQSxVQUFTQSxLQUFzQkEsRUFBRUEsTUFBY0E7UUFDaEUsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztRQUN2QixJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBQzFCLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDeEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDdkMsQ0FBQyxDQUFDQSxDQUFDQTtBQUVQQSxDQUFDQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEZWx0YSBmcm9tICcuL3NyYy9EZWx0YSc7XG5pbXBvcnQgRG9jdW1lbnQgZnJvbSAnLi9zcmMvRG9jdW1lbnQnO1xuaW1wb3J0IEVkaXRvciBmcm9tICcuL3NyYy9FZGl0b3InO1xuaW1wb3J0IEVkaXRTZXNzaW9uIGZyb20gJy4vc3JjL0VkaXRTZXNzaW9uJztcbmltcG9ydCBKYXZhU2NyaXB0TW9kZSBmcm9tICcuL3NyYy9tb2RlL0phdmFTY3JpcHRNb2RlJztcbmltcG9ydCBWaXJ0dWFsUmVuZGVyZXIgZnJvbSAnLi9zcmMvVmlydHVhbFJlbmRlcmVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIG1haW4oZWxlbWVudDE6IEhUTUxFbGVtZW50LCBlbGVtZW50MjogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblxuICAgIC8qKlxuICAgICAqIHNjcmlwdHMgdGhhdCB3b3JrZXIgdGhyZWFkcyBuZWVkIHRvIGxvYWQuXG4gICAgICpcbiAgICAgKiAxLiBXZSBoYXZlIHRvIGxvYWQgc3lzdGVtLmpzIGJlY2F1c2UgaXQgaXMgYW4gRVM2IHNoaW0uXG4gICAgICogMi4gV2UgaGF2ZSB0byBsb2FkIGNvbmZpZy5qcyB0byBjb25maWd1cmUgU3lzdGVtLlxuICAgICAqIDMuIFdlIGNvdWxkIGxvYWQgdGhlIGNvcnJlc3BvbmRpbmcgd29ya2VyIGNvZGUgb24tZGVtYW5kIGJ5IGNvbmZpZ3VyaW5nICdidW5kbGVzJy5cbiAgICAgKi9cbiAgICB2YXIgc2NyaXB0SW1wb3J0cyA9IFtcbiAgICAgICAgJ2pzcG1fcGFja2FnZXMvc3lzdGVtLmpzJyxcbiAgICAgICAgJ2NvbmZpZy5qcycsXG4gICAgICAgICdqc3BtX3BhY2thZ2VzL2dpdGh1Yi9hY2UydHMvYWNlLXdvcmtlcnNAMC4xLjgvZGlzdC9hY2Utd29ya2Vycy5qcyddO1xuXG4gICAgdmFyIGNvZGUgPSAnLy8gY29tbWVudFxcblwidXNlIHN0cmljdFwiO1xcbnZhciB4ID0gMDtcXG52YXIgeSA9IDE7XFxuJztcblxuICAgIHZhciBkb2MxID0gbmV3IERvY3VtZW50KCcnKTtcbiAgICB2YXIgc2Vzc2lvbjEgPSBuZXcgRWRpdFNlc3Npb24oZG9jMSk7XG4gICAgc2Vzc2lvbjEuc2V0TGFuZ3VhZ2VNb2RlKG5ldyBKYXZhU2NyaXB0TW9kZSgnd29ya2VyLmpzJywgc2NyaXB0SW1wb3J0cykpO1xuICAgIHNlc3Npb24xLnNldFRhYlNpemUoMik7XG4gICAgdmFyIHJlbmRlcmVyMSA9IG5ldyBWaXJ0dWFsUmVuZGVyZXIoZWxlbWVudDEpO1xuICAgIC8vIFdlIGNvdWxkIGNvbnNpZGVyIGJ1bmRsaW5nIENTUyBsb2FkaW5nLlxuICAgIC8vIFRoaXMgaXNuJ3Qgc28gYmFkIHdoZW4gd2UgaGF2ZSBhbiBhcHBsaWNhdGlvbiBjYWNoZS5cbiAgICByZW5kZXJlcjEuc2V0VGhlbWVDc3MoXCJhY2UtdHdpbGlnaHRcIiwgXCIvYXNzZXRzL2Nzcy90d2lsaWdodC5jc3NcIik7XG4gICAgcmVuZGVyZXIxLmFkZENzc0NsYXNzKFwiYWNlX2RhcmtcIik7XG4gICAgcmVuZGVyZXIxLnNldFBhZGRpbmcoNCk7XG4gICAgdmFyIGVkaXRvcjEgPSBuZXcgRWRpdG9yKHJlbmRlcmVyMSwgc2Vzc2lvbjEpO1xuICAgIGVkaXRvcjEuc2V0Rm9udFNpemUoXCIxNnB4XCIpO1xuICAgIGVkaXRvcjEuc2V0VmFsdWUoY29kZSk7XG4gICAgZWRpdG9yMS5jbGVhclNlbGVjdGlvbigpO1xuICAgIGVkaXRvcjEuc2V0U2hvd0ludmlzaWJsZXModHJ1ZSk7XG4gICAgZWRpdG9yMS5zZXRTaG93UHJpbnRNYXJnaW4oZmFsc2UpO1xuICAgIGVkaXRvcjEucmVzaXplKCk7XG4gICAgZWRpdG9yMS5mb2N1cygpO1xuXG4gICAgdmFyIGRvYzIgPSBuZXcgRG9jdW1lbnQoJycpO1xuICAgIHZhciBzZXNzaW9uMiA9IG5ldyBFZGl0U2Vzc2lvbihkb2MyKTtcbiAgICBzZXNzaW9uMi5zZXRMYW5ndWFnZU1vZGUobmV3IEphdmFTY3JpcHRNb2RlKCd3b3JrZXIuanMnLCBzY3JpcHRJbXBvcnRzKSk7XG4gICAgdmFyIHJlbmRlcmVyMiA9IG5ldyBWaXJ0dWFsUmVuZGVyZXIoZWxlbWVudDIpO1xuICAgIHJlbmRlcmVyMi5zZXRUaGVtZUNzcyhcImFjZS10bVwiLCBcIi9hc3NldHMvY3NzL3RleHRtYXRlLmNzc1wiKTtcbiAgICByZW5kZXJlcjIuYWRkQ3NzQ2xhc3MoXCJhY2VfZGFya1wiKTtcbiAgICByZW5kZXJlcjIuc2V0UGFkZGluZyg0KTtcbiAgICB2YXIgZWRpdG9yMiA9IG5ldyBFZGl0b3IocmVuZGVyZXIyLCBzZXNzaW9uMik7XG4gICAgZWRpdG9yMi5zZXRGb250U2l6ZShcIjE2cHhcIik7XG4gICAgZWRpdG9yMi5zZXRWYWx1ZShjb2RlKTtcbiAgICBlZGl0b3IyLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgZWRpdG9yMi5zZXRTaG93SW52aXNpYmxlcyh0cnVlKTtcbiAgICBlZGl0b3IyLnNldFNob3dQcmludE1hcmdpbihmYWxzZSk7XG4gICAgZWRpdG9yMi5yZXNpemUoKTtcbiAgICBlZGl0b3IyLmJsdXIoKTtcblxuICAgIGVkaXRvcjEub24oJ2NoYW5nZScsIGZ1bmN0aW9uKGV2ZW50OiB7IGRhdGE6IERlbHRhIH0sIHNvdXJjZTogRWRpdG9yKSB7XG4gICAgICAgIHZhciBkZWx0YSA9IGV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBhY3Rpb24gPSBkZWx0YS5hY3Rpb247XG4gICAgICAgIHZhciByYW5nZSA9IGRlbHRhLnJhbmdlO1xuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkZWx0YSkpO1xuICAgIH0pO1xuXG59Il19