"use strict";
import { createMap } from "../lib/lang";
import CssHighlightRules from "./CssHighlightRules";
import JavaScriptHighlightRules from "./JavaScriptHighlightRules";
import XmlHighlightRules from "./XmlHighlightRules";
var tagMap = createMap({
    a: 'anchor',
    button: 'form',
    form: 'form',
    img: 'image',
    input: 'form',
    label: 'form',
    option: 'form',
    script: 'script',
    select: 'form',
    textarea: 'form',
    style: 'style',
    table: 'table',
    tbody: 'table',
    td: 'table',
    tfoot: 'table',
    th: 'table',
    tr: 'table'
});
export default class HtmlHighlightRules extends XmlHighlightRules {
    constructor() {
        super();
        this.addRules({
            attributes: [{
                    include: "tag_whitespace"
                }, {
                    token: "entity.other.attribute-name.xml",
                    regex: "[-_a-zA-Z0-9:]+"
                }, {
                    token: "keyword.operator.attribute-equals.xml",
                    regex: "=",
                    push: [{
                            include: "tag_whitespace"
                        }, {
                            token: "string.unquoted.attribute-value.html",
                            regex: "[^<>='\"`\\s]+",
                            next: "pop"
                        }, {
                            token: "empty",
                            regex: "",
                            next: "pop"
                        }]
                }, {
                    include: "attribute_value"
                }],
            tag: [{
                    token: function (start, tag) {
                        var group = tagMap[tag];
                        return ["meta.tag.punctuation." + (start == "<" ? "" : "end-") + "tag-open.xml",
                            "meta.tag" + (group ? "." + group : "") + ".tag-name.xml"];
                    },
                    regex: "(</?)([-_a-zA-Z0-9:]+)",
                    next: "tag_stuff"
                }],
            tag_stuff: [
                { include: "attributes" },
                { token: "meta.tag.punctuation.tag-close.xml", regex: "/?>", next: "start" }
            ],
        });
        this.embedTagRules(CssHighlightRules, "css-", "style");
        this.embedTagRules(JavaScriptHighlightRules, "js-", "script");
        if (this.constructor === HtmlHighlightRules)
            this.normalizeRules();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSHRtbEhpZ2hsaWdodFJ1bGVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiSHRtbEhpZ2hsaWdodFJ1bGVzLnRzIl0sIm5hbWVzIjpbIkh0bWxIaWdobGlnaHRSdWxlcyIsIkh0bWxIaWdobGlnaHRSdWxlcy5jb25zdHJ1Y3RvciJdLCJtYXBwaW5ncyI6IkFBb0RBLFlBQVksQ0FBQztPQUVOLEVBQUMsU0FBUyxFQUFDLE1BQU0sYUFBYTtPQUM5QixpQkFBaUIsTUFBTSxxQkFBcUI7T0FDNUMsd0JBQXdCLE1BQU0sNEJBQTRCO09BQzFELGlCQUFpQixNQUFNLHFCQUFxQjtBQUVuRCxJQUFJLE1BQU0sR0FBRyxTQUFTLENBQUM7SUFDbkIsQ0FBQyxFQUFFLFFBQVE7SUFDWCxNQUFNLEVBQUUsTUFBTTtJQUNkLElBQUksRUFBRSxNQUFNO0lBQ1osR0FBRyxFQUFFLE9BQU87SUFDWixLQUFLLEVBQUUsTUFBTTtJQUNiLEtBQUssRUFBRSxNQUFNO0lBQ2IsTUFBTSxFQUFFLE1BQU07SUFDZCxNQUFNLEVBQUUsUUFBUTtJQUNoQixNQUFNLEVBQUUsTUFBTTtJQUNkLFFBQVEsRUFBRSxNQUFNO0lBQ2hCLEtBQUssRUFBRSxPQUFPO0lBQ2QsS0FBSyxFQUFFLE9BQU87SUFDZCxLQUFLLEVBQUUsT0FBTztJQUNkLEVBQUUsRUFBRSxPQUFPO0lBQ1gsS0FBSyxFQUFFLE9BQU87SUFDZCxFQUFFLEVBQUUsT0FBTztJQUNYLEVBQUUsRUFBRSxPQUFPO0NBQ2QsQ0FBQyxDQUFDO0FBRUgsZ0RBQWdELGlCQUFpQjtJQUM3REE7UUFDSUMsT0FBT0EsQ0FBQ0E7UUFFUkEsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0E7WUFDVkEsVUFBVUEsRUFBRUEsQ0FBQ0E7b0JBQ1RBLE9BQU9BLEVBQUVBLGdCQUFnQkE7aUJBQzVCQSxFQUFFQTtvQkFDS0EsS0FBS0EsRUFBRUEsaUNBQWlDQTtvQkFDeENBLEtBQUtBLEVBQUVBLGlCQUFpQkE7aUJBQzNCQSxFQUFFQTtvQkFDQ0EsS0FBS0EsRUFBRUEsdUNBQXVDQTtvQkFDOUNBLEtBQUtBLEVBQUVBLEdBQUdBO29CQUNWQSxJQUFJQSxFQUFFQSxDQUFDQTs0QkFDSEEsT0FBT0EsRUFBRUEsZ0JBQWdCQTt5QkFDNUJBLEVBQUVBOzRCQUNLQSxLQUFLQSxFQUFFQSxzQ0FBc0NBOzRCQUM3Q0EsS0FBS0EsRUFBRUEsZ0JBQWdCQTs0QkFDdkJBLElBQUlBLEVBQUVBLEtBQUtBO3lCQUNkQSxFQUFFQTs0QkFDQ0EsS0FBS0EsRUFBRUEsT0FBT0E7NEJBQ2RBLEtBQUtBLEVBQUVBLEVBQUVBOzRCQUNUQSxJQUFJQSxFQUFFQSxLQUFLQTt5QkFDZEEsQ0FBQ0E7aUJBQ1RBLEVBQUVBO29CQUNDQSxPQUFPQSxFQUFFQSxpQkFBaUJBO2lCQUM3QkEsQ0FBQ0E7WUFDTkEsR0FBR0EsRUFBRUEsQ0FBQ0E7b0JBQ0ZBLEtBQUtBLEVBQUVBLFVBQVNBLEtBQUtBLEVBQUVBLEdBQUdBO3dCQUN0QixJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQ3hCLE1BQU0sQ0FBQyxDQUFDLHVCQUF1QixHQUFHLENBQUMsS0FBSyxJQUFJLEdBQUcsR0FBRyxFQUFFLEdBQUcsTUFBTSxDQUFDLEdBQUcsY0FBYzs0QkFDM0UsVUFBVSxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsRUFBRSxDQUFDLEdBQUcsZUFBZSxDQUFDLENBQUM7b0JBQ25FLENBQUM7b0JBQ0RBLEtBQUtBLEVBQUVBLHdCQUF3QkE7b0JBQy9CQSxJQUFJQSxFQUFFQSxXQUFXQTtpQkFDcEJBLENBQUNBO1lBQ0ZBLFNBQVNBLEVBQUVBO2dCQUNQQSxFQUFFQSxPQUFPQSxFQUFFQSxZQUFZQSxFQUFFQTtnQkFDekJBLEVBQUVBLEtBQUtBLEVBQUVBLG9DQUFvQ0EsRUFBRUEsS0FBS0EsRUFBRUEsS0FBS0EsRUFBRUEsSUFBSUEsRUFBRUEsT0FBT0EsRUFBRUE7YUFDL0VBO1NBQ0pBLENBQUNBLENBQUNBO1FBRUhBLElBQUlBLENBQUNBLGFBQWFBLENBQUNBLGlCQUFpQkEsRUFBRUEsTUFBTUEsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FBQ0E7UUFDdkRBLElBQUlBLENBQUNBLGFBQWFBLENBQUNBLHdCQUF3QkEsRUFBRUEsS0FBS0EsRUFBRUEsUUFBUUEsQ0FBQ0EsQ0FBQ0E7UUFFOURBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFdBQVdBLEtBQUtBLGtCQUFrQkEsQ0FBQ0E7WUFDeENBLElBQUlBLENBQUNBLGNBQWNBLEVBQUVBLENBQUNBO0lBQzlCQSxDQUFDQTtBQUNMRCxDQUFDQTtBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLyogKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKlxuICogVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTYgRGF2aWQgR2VvIEhvbG1lcyA8ZGF2aWQuZ2VvLmhvbG1lc0BnbWFpbC5jb20+XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuICogY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gKiBTT0ZUV0FSRS5cbiAqICoqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqICovXG4vKiAqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqXG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIGxpY2Vuc2U6XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEwLCBBamF4Lm9yZyBCLlYuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogICAgICogTmVpdGhlciB0aGUgbmFtZSBvZiBBamF4Lm9yZyBCLlYuIG5vciB0aGVcbiAqICAgICAgIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzXG4gKiAgICAgICBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqIFxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EXG4gKiBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRVxuICogRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgQUpBWC5PUkcgQi5WLiBCRSBMSUFCTEUgRk9SIEFOWVxuICogRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVNcbiAqIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUztcbiAqIExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORFxuICogT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbiAqIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqXG4gKiAqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7Y3JlYXRlTWFwfSBmcm9tIFwiLi4vbGliL2xhbmdcIjtcbmltcG9ydCBDc3NIaWdobGlnaHRSdWxlcyBmcm9tIFwiLi9Dc3NIaWdobGlnaHRSdWxlc1wiO1xuaW1wb3J0IEphdmFTY3JpcHRIaWdobGlnaHRSdWxlcyBmcm9tIFwiLi9KYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXNcIjtcbmltcG9ydCBYbWxIaWdobGlnaHRSdWxlcyBmcm9tIFwiLi9YbWxIaWdobGlnaHRSdWxlc1wiO1xuXG52YXIgdGFnTWFwID0gY3JlYXRlTWFwKHtcbiAgICBhOiAnYW5jaG9yJyxcbiAgICBidXR0b246ICdmb3JtJyxcbiAgICBmb3JtOiAnZm9ybScsXG4gICAgaW1nOiAnaW1hZ2UnLFxuICAgIGlucHV0OiAnZm9ybScsXG4gICAgbGFiZWw6ICdmb3JtJyxcbiAgICBvcHRpb246ICdmb3JtJyxcbiAgICBzY3JpcHQ6ICdzY3JpcHQnLFxuICAgIHNlbGVjdDogJ2Zvcm0nLFxuICAgIHRleHRhcmVhOiAnZm9ybScsXG4gICAgc3R5bGU6ICdzdHlsZScsXG4gICAgdGFibGU6ICd0YWJsZScsXG4gICAgdGJvZHk6ICd0YWJsZScsXG4gICAgdGQ6ICd0YWJsZScsXG4gICAgdGZvb3Q6ICd0YWJsZScsXG4gICAgdGg6ICd0YWJsZScsXG4gICAgdHI6ICd0YWJsZSdcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIdG1sSGlnaGxpZ2h0UnVsZXMgZXh0ZW5kcyBYbWxIaWdobGlnaHRSdWxlcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5hZGRSdWxlcyh7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBbe1xuICAgICAgICAgICAgICAgIGluY2x1ZGU6IFwidGFnX3doaXRlc3BhY2VcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbjogXCJlbnRpdHkub3RoZXIuYXR0cmlidXRlLW5hbWUueG1sXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4OiBcIlstX2EtekEtWjAtOTpdK1wiXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbjogXCJrZXl3b3JkLm9wZXJhdG9yLmF0dHJpYnV0ZS1lcXVhbHMueG1sXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4OiBcIj1cIixcbiAgICAgICAgICAgICAgICAgICAgcHVzaDogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGU6IFwidGFnX3doaXRlc3BhY2VcIlxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IFwic3RyaW5nLnVucXVvdGVkLmF0dHJpYnV0ZS12YWx1ZS5odG1sXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXg6IFwiW148Pj0nXFxcImBcXFxcc10rXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogXCJwb3BcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiBcImVtcHR5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXg6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogXCJwb3BcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGU6IFwiYXR0cmlidXRlX3ZhbHVlXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIHRhZzogW3tcbiAgICAgICAgICAgICAgICB0b2tlbjogZnVuY3Rpb24oc3RhcnQsIHRhZykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXAgPSB0YWdNYXBbdGFnXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcIm1ldGEudGFnLnB1bmN0dWF0aW9uLlwiICsgKHN0YXJ0ID09IFwiPFwiID8gXCJcIiA6IFwiZW5kLVwiKSArIFwidGFnLW9wZW4ueG1sXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1ldGEudGFnXCIgKyAoZ3JvdXAgPyBcIi5cIiArIGdyb3VwIDogXCJcIikgKyBcIi50YWctbmFtZS54bWxcIl07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWdleDogXCIoPC8/KShbLV9hLXpBLVowLTk6XSspXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJ0YWdfc3R1ZmZcIlxuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICB0YWdfc3R1ZmY6IFtcbiAgICAgICAgICAgICAgICB7IGluY2x1ZGU6IFwiYXR0cmlidXRlc1wiIH0sXG4gICAgICAgICAgICAgICAgeyB0b2tlbjogXCJtZXRhLnRhZy5wdW5jdHVhdGlvbi50YWctY2xvc2UueG1sXCIsIHJlZ2V4OiBcIi8/PlwiLCBuZXh0OiBcInN0YXJ0XCIgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbWJlZFRhZ1J1bGVzKENzc0hpZ2hsaWdodFJ1bGVzLCBcImNzcy1cIiwgXCJzdHlsZVwiKTtcbiAgICAgICAgdGhpcy5lbWJlZFRhZ1J1bGVzKEphdmFTY3JpcHRIaWdobGlnaHRSdWxlcywgXCJqcy1cIiwgXCJzY3JpcHRcIik7XG5cbiAgICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3IgPT09IEh0bWxIaWdobGlnaHRSdWxlcylcbiAgICAgICAgICAgIHRoaXMubm9ybWFsaXplUnVsZXMoKTtcbiAgICB9XG59XG4iXX0=